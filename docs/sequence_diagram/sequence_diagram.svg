<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2831px" preserveAspectRatio="none" style="width:2406px;height:2831px;background:#FFFFFF;" version="1.1" viewBox="0 0 2406 2831" width="2406px" zoomAndPan="magnify"><title>AI Present Finder System - Sequence Diagram of Events and Commands</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="520.1807" x="939.2744" y="28.5352">AI Present Finder System - Sequence Diagram of Events and Commands</text><rect fill="#ADD8E6" height="2781.6113" style="stroke:#181818;stroke-width:0.5;" width="256.3877" x="1461.4463" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131.9551" x="1523.6626" y="56.0566">Fetch Microservices</text><g><title>REST API</title><rect fill="#FFFFFF" height="2511.7031" style="stroke:#181818;stroke-width:1;" width="10" x="418.0313" y="208.9082"/></g><g><title>Chat Service</title><rect fill="#FFFFFF" height="990.2031" style="stroke:#181818;stroke-width:1;" width="10" x="664.8682" y="424.3926"/></g><g><title>Stalking Service</title><rect fill="#FFFFFF" height="1174.377" style="stroke:#181818;stroke-width:1;" width="10" x="919.9443" y="320.1504"/></g><g><title>Gift Ideas Service</title><rect fill="#FFFFFF" height="1099.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1131.3169" y="1009.6035"/></g><g><title>OLX</title><rect fill="#FFFFFF" height="549.3203" style="stroke:#181818;stroke-width:1;" width="10" x="1480.9985" y="1857.5645"/></g><g><title>Allegro</title><rect fill="#FFFFFF" height="489.7441" style="stroke:#181818;stroke-width:1;" width="10" x="1542.856" y="1917.1406"/></g><g><title>eBay</title><rect fill="#FFFFFF" height="430.168" style="stroke:#181818;stroke-width:1;" width="10" x="1606.6104" y="1976.7168"/></g><g><title>Amazon</title><rect fill="#FFFFFF" height="370.5918" style="stroke:#181818;stroke-width:1;" width="10" x="1673.9468" y="2036.293"/></g><g><title>Reranking Service</title><rect fill="#FFFFFF" height="867.3574" style="stroke:#181818;stroke-width:1;" width="10" x="2088.292" y="1781.6328"/></g><rect fill="none" height="166.1738" style="stroke:#000000;stroke-width:1.5;" width="759.6323" x="376.6846" y="266.2188"/><rect fill="none" height="409.6582" style="stroke:#000000;stroke-width:1.5;" width="759.8657" x="162" y="489.7031"/><rect fill="none" height="494.2344" style="stroke:#000000;stroke-width:1.5;" width="1476.9985" x="9" y="913.3613"/><rect fill="none" height="456.1445" style="stroke:#000000;stroke-width:1.5;" width="1129.2061" x="1051.1909" y="1645.7695"/><rect fill="none" height="61.9316" style="stroke:#000000;stroke-width:1.5;" width="1109.2061" x="1061.1909" y="1727.7012"/><rect fill="none" height="291.2813" style="stroke:#000000;stroke-width:1.5;" width="807.8232" x="1061.1909" y="1803.6328"/><rect fill="none" height="240.6602" style="stroke:#000000;stroke-width:1.5;" width="714.9507" x="1455.4463" y="2159.2246"/><rect fill="none" height="191.1738" style="stroke:#000000;stroke-width:1.5;" width="2227.7295" x="162" y="2537.4375"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="186.1826" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="190" x2="190" y1="118.9766" y2="2745.6113"/></g><g><title>REST API</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="419.0313" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="422.6846" x2="422.6846" y1="118.9766" y2="2745.6113"/></g><g><title>Chat Service</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="665.8682" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="669.3159" x2="669.3159" y1="118.9766" y2="2745.6113"/></g><g><title>Stalking Service</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="920.9443" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="923.9624" x2="923.9624" y1="118.9766" y2="2745.6113"/></g><g><title>Gift Ideas Service</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="1132.3169" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1136.1909" x2="1136.1909" y1="118.9766" y2="2745.6113"/></g><g><title>OLX</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="1481.9985" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1485.4463" x2="1485.4463" y1="118.9766" y2="2745.6113"/></g><g><title>Allegro</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="1543.856" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1547.5508" x2="1547.5508" y1="118.9766" y2="2745.6113"/></g><g><title>eBay</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="1607.6104" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1611.1611" x2="1611.1611" y1="118.9766" y2="2745.6113"/></g><g><title>Amazon</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="1674.9468" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1678.0596" x2="1678.0596" y1="118.9766" y2="2745.6113"/></g><g><title>Reranking Service</title><rect fill="#000000" fill-opacity="0.00000" height="2626.6348" width="8" x="2089.292" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2093.187" x2="2093.187" y1="118.9766" y2="2745.6113"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="172" y="116.0234">User</text><ellipse cx="190.1826" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M190.1826,58.9883 L190.1826,85.9883 M177.1826,66.9883 L203.1826,66.9883 M190.1826,85.9883 L177.1826,100.9883 M190.1826,85.9883 L203.1826,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="172" y="2758.1465">User</text><ellipse cx="190.1826" cy="2769.5996" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M190.1826,2777.5996 L190.1826,2804.5996 M177.1826,2785.5996 L203.1826,2785.5996 M190.1826,2804.5996 L177.1826,2819.5996 M190.1826,2804.5996 L203.1826,2819.5996" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="REST"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6934" x="386.6846" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="393.6846" y="108.0234">REST API</text></g><g class="participant participant-tail" data-participant="REST"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6934" x="386.6846" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="393.6846" y="2765.1465">REST API</text></g><g class="participant participant-head" data-participant="CHAT"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.1045" x="621.3159" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1045" x="628.3159" y="108.0234">Chat Service</text></g><g class="participant participant-tail" data-participant="CHAT"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.1045" x="621.3159" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1045" x="628.3159" y="2765.1465">Chat Service</text></g><g class="participant participant-head" data-participant="STALK"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.9639" x="864.9624" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.9639" x="871.9624" y="108.0234">Stalking Service</text></g><g class="participant participant-tail" data-participant="STALK"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.9639" x="864.9624" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.9639" x="871.9624" y="2765.1465">Stalking Service</text></g><g class="participant participant-head" data-participant="GIFT"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.252" x="1071.1909" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.252" x="1078.1909" y="108.0234">Gift Ideas Service</text></g><g class="participant participant-tail" data-participant="GIFT"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.252" x="1071.1909" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.252" x="1078.1909" y="2765.1465">Gift Ideas Service</text></g><g class="participant participant-head" data-participant="FETCH_OLX"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41.1045" x="1465.4463" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.1045" x="1472.4463" y="108.0234">OLX</text></g><g class="participant participant-tail" data-participant="FETCH_OLX"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41.1045" x="1465.4463" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.1045" x="1472.4463" y="2765.1465">OLX</text></g><g class="participant participant-head" data-participant="FETCH_ALLEGRO"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62.6104" x="1516.5508" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.6104" x="1523.5508" y="108.0234">Allegro</text></g><g class="participant participant-tail" data-participant="FETCH_ALLEGRO"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62.6104" x="1516.5508" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.6104" x="1523.5508" y="2765.1465">Allegro</text></g><g class="participant participant-head" data-participant="FETCH_EBAY"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.8984" x="1589.1611" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.8984" x="1596.1611" y="108.0234">eBay</text></g><g class="participant participant-tail" data-participant="FETCH_EBAY"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.8984" x="1589.1611" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.8984" x="1596.1611" y="2765.1465">eBay</text></g><g class="participant participant-head" data-participant="FETCH_AMAZON"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.7744" x="1644.0596" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.7744" x="1651.0596" y="108.0234">Amazon</text></g><g class="participant participant-tail" data-participant="FETCH_AMAZON"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.7744" x="1644.0596" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.7744" x="1651.0596" y="2765.1465">Amazon</text></g><g class="participant participant-head" data-participant="RERANK"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.21" x="2026.187" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.21" x="2033.187" y="108.0234">Reranking Service</text></g><g class="participant participant-tail" data-participant="RERANK"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.21" x="2026.187" y="2744.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.21" x="2033.187" y="2765.1465">Reranking Service</text></g><g><title>REST API</title><rect fill="#FFFFFF" height="2511.7031" style="stroke:#181818;stroke-width:1;" width="10" x="418.0313" y="208.9082"/></g><g><title>Chat Service</title><rect fill="#FFFFFF" height="990.2031" style="stroke:#181818;stroke-width:1;" width="10" x="664.8682" y="424.3926"/></g><g><title>Stalking Service</title><rect fill="#FFFFFF" height="1174.377" style="stroke:#181818;stroke-width:1;" width="10" x="919.9443" y="320.1504"/></g><g><title>Gift Ideas Service</title><rect fill="#FFFFFF" height="1099.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1131.3169" y="1009.6035"/></g><g><title>OLX</title><rect fill="#FFFFFF" height="549.3203" style="stroke:#181818;stroke-width:1;" width="10" x="1480.9985" y="1857.5645"/></g><g><title>Allegro</title><rect fill="#FFFFFF" height="489.7441" style="stroke:#181818;stroke-width:1;" width="10" x="1542.856" y="1917.1406"/></g><g><title>eBay</title><rect fill="#FFFFFF" height="430.168" style="stroke:#181818;stroke-width:1;" width="10" x="1606.6104" y="1976.7168"/></g><g><title>Amazon</title><rect fill="#FFFFFF" height="370.5918" style="stroke:#181818;stroke-width:1;" width="10" x="1673.9468" y="2036.293"/></g><g><title>Reranking Service</title><rect fill="#FFFFFF" height="867.3574" style="stroke:#181818;stroke-width:1;" width="10" x="2088.292" y="1781.6328"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2399.7295" x="0" y="149.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="149.6318" y2="149.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="152.6318" y2="152.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="84.9604" x="1157.3845" y="138.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66.6758" x="1163.3845" y="155.5449">Start sesji</text><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="406.0313,204.9082,416.0313,208.9082,406.0313,212.9082,410.0313,208.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="190.1826" x2="412.0313" y1="208.9082" y2="208.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.459" x="197.1826" y="188.8555">POST /stalking-request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.2422" x="197.1826" y="204.166">{chatId, social URLs}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="238.2188" y2="238.2188"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="238.2188" y2="251.2188"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="251.2188" y2="251.2188"/><polygon fill="#181818" points="439.0313,247.2188,429.0313,251.2188,439.0313,255.2188,435.0313,251.2188" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171.8501" x="435.0313" y="233.4766">StartProcessingCommand</text></g><path d="M376.6846,266.2188 L443.8506,266.2188 L443.8506,273.5293 L433.8506,283.5293 L376.6846,283.5293 L376.6846,266.2188" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="166.1738" style="stroke:#000000;stroke-width:1.5;" width="759.6323" x="376.6846" y="266.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="391.6846" y="279.7871">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="158.0874" x="458.8506" y="278.8535">[Przetwarzanie R&#243;wnoleg&#322;e]</text><g class="message" data-participant-1="REST" data-participant-2="STALK"><polygon fill="#181818" points="907.9443,316.1504,917.9443,320.1504,907.9443,324.1504,911.9443,320.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="913.9443" y1="320.1504" y2="320.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="214.1382" x="435.0313" y="300.0977">StalkingAnalyzeRequestedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.1631" x="435.0313" y="315.4082">{chatId, URLs}</text></g><g class="message" data-participant-1="STALK" data-participant-2="STALK"><line style="stroke:#181818;stroke-width:1;" x1="929.9443" x2="971.9443" y1="364.7715" y2="364.7715"/><line style="stroke:#181818;stroke-width:1;" x1="971.9443" x2="971.9443" y1="364.7715" y2="377.7715"/><line style="stroke:#181818;stroke-width:1;" x1="930.9443" x2="971.9443" y1="377.7715" y2="377.7715"/><polygon fill="#181818" points="940.9443,373.7715,930.9443,377.7715,940.9443,381.7715,936.9443,377.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="174.5605" x="936.9443" y="344.7188">StalkingAnalyzeCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.3726" x="936.9443" y="360.0293">(analiza profili social media)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="376.6846" x2="1136.3169" y1="386.7715" y2="386.7715"/><g class="message" data-participant-1="REST" data-participant-2="CHAT"><polygon fill="#181818" points="652.8682,420.3926,662.8682,424.3926,652.8682,428.3926,656.8682,424.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="658.8682" y1="424.3926" y2="424.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.5859" x="435.0313" y="404.3398">ChatStartInterviewEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.1504" x="435.0313" y="419.6504">{chatId}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2399.7295" x="0" y="460.0479"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="460.0479" y2="460.0479"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="463.0479" y2="463.0479"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="114.4326" x="1142.6484" y="449.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96.1479" x="1148.6484" y="465.9609">Interview loop</text><path d="M162,489.7031 L236.4468,489.7031 L236.4468,497.0137 L226.4468,507.0137 L162,507.0137 L162,489.7031" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="409.6582" style="stroke:#000000;stroke-width:1.5;" width="759.8657" x="162" y="489.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="177" y="503.2715">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="407.0913" x="251.4468" y="502.3379">[Dop&#243;ki AI nie zdecyduje zako&#324;czy&#263; lub niew&#322;a&#347;ciwe zachowanie usera]</text><g class="message" data-participant-1="CHAT" data-participant-2="CHAT"><line style="stroke:#181818;stroke-width:1;" x1="674.8682" x2="716.8682" y1="543.6348" y2="543.6348"/><line style="stroke:#181818;stroke-width:1;" x1="716.8682" x2="716.8682" y1="543.6348" y2="556.6348"/><line style="stroke:#181818;stroke-width:1;" x1="675.8682" x2="716.8682" y1="556.6348" y2="556.6348"/><polygon fill="#181818" points="685.8682,552.6348,675.8682,556.6348,685.8682,560.6348,681.8682,556.6348" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="188.0239" x="681.8682" y="523.582">GenerateQuestionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.9976" x="681.8682" y="538.8926">(AI decyduje o nast&#281;pnym pytaniu)</text></g><g class="message" data-participant-1="CHAT" data-participant-2="REST"><polygon fill="#181818" points="439.0313,597.2559,429.0313,601.2559,439.0313,605.2559,435.0313,601.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="433.0313" x2="663.8682" y1="601.2559" y2="601.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169.584" x="445.0313" y="581.2031">ChatQuestionAskedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1699" x="445.0313" y="596.5137">{chatId, question}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="630.5664" y2="630.5664"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="630.5664" y2="643.5664"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="643.5664" y2="643.5664"/><polygon fill="#181818" points="439.0313,639.5664,429.0313,643.5664,439.0313,647.5664,435.0313,643.5664" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.1733" x="435.0313" y="625.8242">NotifyUserSseCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="201.1826,668.877,191.1826,672.877,201.1826,676.877,197.1826,672.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="195.1826" x2="417.0313" y1="672.877" y2="672.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.7563" x="207.1826" y="668.1348">SSE: chatbot-message</text></g><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="406.0313,713.498,416.0313,717.498,406.0313,721.498,410.0313,717.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="190.1826" x2="412.0313" y1="717.498" y2="717.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.2397" x="197.1826" y="697.4453">POST /send-message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8296" x="197.1826" y="712.7559">{chatId, answer}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="746.8086" y2="746.8086"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="746.8086" y2="759.8086"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="759.8086" y2="759.8086"/><polygon fill="#181818" points="439.0313,755.8086,429.0313,759.8086,439.0313,763.8086,435.0313,759.8086" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="188.1699" x="435.0313" y="742.0664">SendUserMessageCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="789.1191" y2="789.1191"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="789.1191" y2="802.1191"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="802.1191" y2="802.1191"/><polygon fill="#181818" points="439.0313,798.1191,429.0313,802.1191,439.0313,806.1191,435.0313,802.1191" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.1733" x="435.0313" y="784.377">NotifyUserSseCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="201.1826,842.7402,191.1826,846.7402,201.1826,850.7402,197.1826,846.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="195.1826" x2="417.0313" y1="846.7402" y2="846.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.7563" x="207.1826" y="826.6875">SSE: chatbot-message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3003" x="207.1826" y="841.998">(echo wiadomo&#347;ci u&#380;ytkownika)</text></g><g class="message" data-participant-1="REST" data-participant-2="CHAT"><polygon fill="#181818" points="652.8682,887.3613,662.8682,891.3613,652.8682,895.3613,656.8682,891.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="658.8682" y1="891.3613" y2="891.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164.5376" x="435.0313" y="871.3086">ChatUserAnsweredEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.165" x="435.0313" y="886.6191">{chatId, messages}</text></g><path d="M9,913.3613 L71.1387,913.3613 L71.1387,920.6719 L61.1387,930.6719 L9,930.6719 L9,913.3613" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="494.2344" style="stroke:#000000;stroke-width:1.5;" width="1476.9985" x="9" y="913.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="24" y="926.9297">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.2124" x="86.1387" y="925.9961">[Wywiad zako&#324;czony pomy&#347;lnie]</text><g class="message" data-participant-1="CHAT" data-participant-2="CHAT"><line style="stroke:#181818;stroke-width:1;" x1="674.8682" x2="716.8682" y1="951.9824" y2="951.9824"/><line style="stroke:#181818;stroke-width:1;" x1="716.8682" x2="716.8682" y1="951.9824" y2="964.9824"/><line style="stroke:#181818;stroke-width:1;" x1="675.8682" x2="716.8682" y1="964.9824" y2="964.9824"/><polygon fill="#181818" points="685.8682,960.9824,675.8682,964.9824,685.8682,968.9824,681.8682,964.9824" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96.8335" x="681.8682" y="947.2402">closeInterview</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.9443" x="782.8149" y="947.2402">toolcall</text></g><g class="message" data-participant-1="CHAT" data-participant-2="GIFT"><polygon fill="#181818" points="1119.3169,1005.6035,1129.3169,1009.6035,1119.3169,1013.6035,1123.3169,1009.6035" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="674.8682" x2="1125.3169" y1="1009.6035" y2="1009.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="202.1982" x="681.8682" y="989.5508">ChatInterviewCompletedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.4019" x="681.8682" y="1004.8613">{chatId, profile}</text></g><g class="message" data-participant-1="GIFT" data-participant-2="GIFT"><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1183.3169" y1="1054.2246" y2="1054.2246"/><line style="stroke:#181818;stroke-width:1;" x1="1183.3169" x2="1183.3169" y1="1054.2246" y2="1067.2246"/><line style="stroke:#181818;stroke-width:1;" x1="1142.3169" x2="1183.3169" y1="1067.2246" y2="1067.2246"/><polygon fill="#181818" points="1152.3169,1063.2246,1142.3169,1067.2246,1152.3169,1071.2246,1148.3169,1067.2246" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="218.8101" x="1148.3169" y="1034.1719">UpdateInterviewStatusCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.6816" x="1148.3169" y="1049.4824">(zapisz profil usera, sprawd&#378; czy stalking gotowy)</text></g><g class="message" data-participant-1="CHAT" data-participant-2="REST"><polygon fill="#181818" points="439.0313,1107.8457,429.0313,1111.8457,439.0313,1115.8457,435.0313,1111.8457" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="433.0313" x2="663.8682" y1="1111.8457" y2="1111.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210.9897" x="445.0313" y="1091.793">ChatCompletedNotifyUserEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.1504" x="445.0313" y="1107.1035">{chatId}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="1141.1563" y2="1141.1563"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="1141.1563" y2="1154.1563"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="1154.1563" y2="1154.1563"/><polygon fill="#181818" points="439.0313,1150.1563,429.0313,1154.1563,439.0313,1158.1563,435.0313,1154.1563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.1733" x="435.0313" y="1136.4141">NotifyUserSseCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="201.1826,1190.1221,191.1826,1194.1221,201.1826,1198.1221,197.1826,1194.1221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="195.1826" x2="417.0313" y1="1194.1221" y2="1194.1221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.3335" x="207.1826" y="1189.3799">SSE: chat-interview-completed</text></g><path d="M33,1167.1563 L33,1207.1563 L184,1207.1563 L184,1177.1563 L174,1167.1563 L33,1167.1563" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M174,1167.1563 L174,1177.1563 L184,1177.1563 L174,1167.1563" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5142" x="39" y="1184.7246">Wywiad zako&#324;czony,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.3335" x="39" y="1200.0352">ekran &#322;adowania</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="9" x2="1485.9985" y1="1213.7773" y2="1213.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196.5928" x="14" y="1224.4121">[Wykryto niew&#322;a&#347;ciwe zachowanie]</text><g class="message" data-participant-1="CHAT" data-participant-2="CHAT"><line style="stroke:#181818;stroke-width:1;" x1="674.8682" x2="716.8682" y1="1249.043" y2="1249.043"/><line style="stroke:#181818;stroke-width:1;" x1="716.8682" x2="716.8682" y1="1249.043" y2="1262.043"/><line style="stroke:#181818;stroke-width:1;" x1="675.8682" x2="716.8682" y1="1262.043" y2="1262.043"/><polygon fill="#181818" points="685.8682,1258.043,675.8682,1262.043,685.8682,1266.043,681.8682,1262.043" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171.0186" x="681.8682" y="1244.3008">flagInappropriateRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.9443" x="857" y="1244.3008">toolcall</text></g><g class="message" data-participant-1="CHAT" data-participant-2="REST"><polygon fill="#181818" points="439.0313,1302.6641,429.0313,1306.6641,439.0313,1310.6641,435.0313,1306.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="433.0313" x2="663.8682" y1="1306.6641" y2="1306.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="212.8369" x="445.0313" y="1286.6113">ChatInappropriateRequestEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.7983" x="445.0313" y="1301.9219">{chatId, reason}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="1335.9746" y2="1335.9746"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="1335.9746" y2="1348.9746"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="1348.9746" y2="1348.9746"/><polygon fill="#181818" points="439.0313,1344.9746,429.0313,1348.9746,439.0313,1352.9746,435.0313,1348.9746" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.1733" x="435.0313" y="1331.2324">NotifyUserSseCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="201.1826,1384.9404,191.1826,1388.9404,201.1826,1392.9404,197.1826,1388.9404" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="195.1826" x2="417.0313" y1="1388.9404" y2="1388.9404"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.8486" x="207.1826" y="1384.1982">SSE: chat-inappropriate-request</text></g><path d="M19,1361.9746 L19,1401.9746 L184,1401.9746 L184,1371.9746 L174,1361.9746 L19,1361.9746" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M174,1361.9746 L174,1371.9746 L184,1371.9746 L174,1361.9746" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5142" x="25" y="1379.543">Wywiad zako&#324;czony,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.4346" x="25" y="1394.8535">agana dla u&#380;ytkownika</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2399.7295" x="0" y="1435.251"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="1435.251" y2="1435.251"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="1438.251" y2="1438.251"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="168.9272" x="1115.4011" y="1424.5957"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150.6426" x="1121.4011" y="1441.1641">Zako&#324;czenie Stalkingu</text><g class="message" data-participant-1="STALK" data-participant-2="GIFT"><polygon fill="#181818" points="1119.3169,1490.5273,1129.3169,1494.5273,1119.3169,1498.5273,1123.3169,1494.5273" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="924.9443" x2="1125.3169" y1="1494.5273" y2="1494.5273"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="163.2046" x="931.9443" y="1474.4746">StalkingCompletedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.1401" x="931.9443" y="1489.7852">{chatId, keywords}</text></g><g class="message" data-participant-1="GIFT" data-participant-2="GIFT"><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1183.3169" y1="1539.1484" y2="1539.1484"/><line style="stroke:#181818;stroke-width:1;" x1="1183.3169" x2="1183.3169" y1="1539.1484" y2="1552.1484"/><line style="stroke:#181818;stroke-width:1;" x1="1142.3169" x2="1183.3169" y1="1552.1484" y2="1552.1484"/><polygon fill="#181818" points="1152.3169,1548.1484,1142.3169,1552.1484,1152.3169,1556.1484,1148.3169,1552.1484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210.5264" x="1148.3169" y="1519.0957">UpdateStalkingStatusCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.1016" x="1148.3169" y="1534.4063">(zapisz keywords, sprawd&#378; czy wywiad gotowy)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2399.7295" x="0" y="1580.8037"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="1580.8037" y2="1580.8037"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="1583.8037" y2="1583.8037"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="266.9287" x="1066.4004" y="1570.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="248.644" x="1072.4004" y="1586.7168">Koordynacja Generowania Prezent&#243;w</text><path d="M1041,1608.459 L1041,1633.459 L1230,1633.459 L1230,1618.459 L1220,1608.459 L1041,1608.459" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1220,1608.459 L1220,1618.459 L1230,1618.459 L1220,1608.459" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.0288" x="1047" y="1626.0273">Gdy oba eventy otrzymane</text><path d="M1051.1909,1645.7695 L1113.3296,1645.7695 L1113.3296,1653.0801 L1103.3296,1663.0801 L1051.1909,1663.0801 L1051.1909,1645.7695" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="456.1445" style="stroke:#000000;stroke-width:1.5;" width="1129.2061" x="1051.1909" y="1645.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="1066.1909" y="1659.3379">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="251.9634" x="1128.3296" y="1658.4043">[Zar&#243;wno stalking jak i wywiad zako&#324;czone]</text><g class="message" data-participant-1="GIFT" data-participant-2="GIFT"><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1183.3169" y1="1699.7012" y2="1699.7012"/><line style="stroke:#181818;stroke-width:1;" x1="1183.3169" x2="1183.3169" y1="1699.7012" y2="1712.7012"/><line style="stroke:#181818;stroke-width:1;" x1="1142.3169" x2="1183.3169" y1="1712.7012" y2="1712.7012"/><polygon fill="#181818" points="1152.3169,1708.7012,1142.3169,1712.7012,1152.3169,1716.7012,1148.3169,1712.7012" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="187.5859" x="1148.3169" y="1679.6484">GenerateGiftIdeasCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.3916" x="1148.3169" y="1694.959">{profile, keywords, chatId}</text></g><path d="M1357.5859,1671.5801 L1357.5859,1711.5801 L1605.5859,1711.5801 L1605.5859,1681.5801 L1595.5859,1671.5801 L1357.5859,1671.5801" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1595.5859,1671.5801 L1595.5859,1681.5801 L1605.5859,1681.5801 L1595.5859,1671.5801" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.4619" x="1363.5859" y="1689.1484">AI generuje zapytania wyszukiwania</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7808" x="1363.5859" y="1704.459">dla wielu serwis&#243;w</text><path d="M1061.1909,1727.7012 L1128.3569,1727.7012 L1128.3569,1735.0117 L1118.3569,1745.0117 L1061.1909,1745.0117 L1061.1909,1727.7012" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.9316" style="stroke:#000000;stroke-width:1.5;" width="1109.2061" x="1061.1909" y="1727.7012"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="1076.1909" y="1741.2695">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164.6133" x="1143.3569" y="1740.3359">[Wy&#347;lij do Reranking Service]</text><g class="message" data-participant-1="GIFT" data-participant-2="RERANK"><polygon fill="#181818" points="2076.292,1777.6328,2086.292,1781.6328,2076.292,1785.6328,2080.292,1781.6328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="2082.292" y1="1781.6328" y2="1781.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="180.0386" x="1148.3169" y="1761.5801">GiftContextInitializedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296.1372" x="1148.3169" y="1776.8906">{profile, keywords, chatId, eventId, totalEvents}</text></g><path d="M1061.1909,1803.6328 L1128.3569,1803.6328 L1128.3569,1810.9434 L1118.3569,1820.9434 L1061.1909,1820.9434 L1061.1909,1803.6328" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="291.2813" style="stroke:#000000;stroke-width:1.5;" width="807.8232" x="1061.1909" y="1803.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="1076.1909" y="1817.2012">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.9053" x="1143.3569" y="1816.2676">[R&#243;wnoleg&#322;e &#379;&#261;dania FETCH]</text><g class="message" data-participant-1="GIFT" data-participant-2="FETCH_OLX"><polygon fill="#181818" points="1468.9985,1853.5645,1478.9985,1857.5645,1468.9985,1861.5645,1472.9985,1857.5645" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1474.9985" y1="1857.5645" y2="1857.5645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="95.3608" x="1148.3169" y="1837.5117">FetchOlxEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7266" x="1148.3169" y="1852.8223">{query, chatId, eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1061.1909" x2="1869.0142" y1="1866.5645" y2="1866.5645"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="49.1348" x="1066.1909" y="1877.1992">[Allegro]</text><g class="message" data-participant-1="GIFT" data-participant-2="FETCH_ALLEGRO"><polygon fill="#181818" points="1530.856,1913.1406,1540.856,1917.1406,1530.856,1921.1406,1534.856,1917.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1536.856" y1="1917.1406" y2="1917.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121.1831" x="1148.3169" y="1897.0879">FetchAllegroEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7266" x="1148.3169" y="1912.3984">{query, chatId, eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1061.1909" x2="1869.0142" y1="1926.1406" y2="1926.1406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34.4072" x="1066.1909" y="1936.7754">[eBay]</text><g class="message" data-participant-1="GIFT" data-participant-2="FETCH_EBAY"><polygon fill="#181818" points="1594.6104,1972.7168,1604.6104,1976.7168,1594.6104,1980.7168,1598.6104,1976.7168" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1600.6104" y1="1976.7168" y2="1976.7168"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104.3936" x="1148.3169" y="1956.6641">FetchEbayEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7266" x="1148.3169" y="1971.9746">{query, chatId, eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1061.1909" x2="1869.0142" y1="1985.7168" y2="1985.7168"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="54.1353" x="1066.1909" y="1996.3516">[Amazon]</text><g class="message" data-participant-1="GIFT" data-participant-2="FETCH_AMAZON"><polygon fill="#181818" points="1661.9468,2032.293,1671.9468,2036.293,1661.9468,2040.293,1665.9468,2036.293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1141.3169" x2="1667.9468" y1="2036.293" y2="2036.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127.0928" x="1148.3169" y="2016.2402">FetchAmazonEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7266" x="1148.3169" y="2031.5508">{query, chatId, eventId, totalEvents}</text></g><path d="M1688,2049.293 L1688,2089.293 L1859,2089.293 L1859,2059.293 L1849,2049.293 L1688,2049.293" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1849,2049.293 L1849,2059.293 L1859,2059.293 L1849,2049.293" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.0142" x="1694" y="2066.8613">Wiele zapyta&#324; na serwis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.3765" x="1694" y="2082.1719">na podstawie decyzji AI</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2399.7295" x="0" y="2129.5693"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="2129.5693" y2="2129.5693"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2399.7295" y1="2132.5693" y2="2132.5693"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="264.9355" x="1067.397" y="2118.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="246.6509" x="1073.397" y="2135.4824">Zbieranie Produkt&#243;w i Rerankowanie</text><path d="M1455.4463,2159.2246 L1522.6123,2159.2246 L1522.6123,2166.5352 L1512.6123,2176.5352 L1455.4463,2176.5352 L1455.4463,2159.2246" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="240.6602" style="stroke:#000000;stroke-width:1.5;" width="714.9507" x="1455.4463" y="2159.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="1470.4463" y="2172.793">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="217.2661" x="1537.6123" y="2171.8594">[Odpowiedzi od wszystkich serwis&#243;w]</text><g class="message" data-participant-1="FETCH_OLX" data-participant-2="RERANK"><polygon fill="#181818" points="2076.292,2209.1563,2086.292,2213.1563,2076.292,2217.1563,2080.292,2213.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1490.9985" x2="2082.292" y1="2213.1563" y2="2213.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.5054" x="1497.9985" y="2193.1035">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350.0605" x="1497.9985" y="2208.4141">{products[], chatId, provider: "olx", eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1455.4463" x2="2170.397" y1="2222.1563" y2="2222.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="49.1348" x="1460.4463" y="2232.791">[Allegro]</text><g class="message" data-participant-1="FETCH_ALLEGRO" data-participant-2="RERANK"><polygon fill="#181818" points="2076.292,2268.7324,2086.292,2272.7324,2076.292,2276.7324,2080.292,2272.7324" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1552.856" x2="2082.292" y1="2272.7324" y2="2272.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.5054" x="1559.856" y="2252.6797">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373.6929" x="1559.856" y="2267.9902">{products[], chatId, provider: "allegro", eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1455.4463" x2="2170.397" y1="2281.7324" y2="2281.7324"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34.4072" x="1460.4463" y="2292.3672">[eBay]</text><g class="message" data-participant-1="FETCH_EBAY" data-participant-2="RERANK"><polygon fill="#181818" points="2076.292,2328.3086,2086.292,2332.3086,2076.292,2336.3086,2080.292,2332.3086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1616.6104" x2="2082.292" y1="2332.3086" y2="2332.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.5054" x="1623.6104" y="2312.2559">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359.7407" x="1623.6104" y="2327.5664">{products[], chatId, provider: "ebay", eventId, totalEvents}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1455.4463" x2="2170.397" y1="2341.3086" y2="2341.3086"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="54.1353" x="1460.4463" y="2351.9434">[Amazon]</text><g class="message" data-participant-1="FETCH_AMAZON" data-participant-2="RERANK"><polygon fill="#181818" points="2076.292,2387.8848,2086.292,2391.8848,2076.292,2395.8848,2080.292,2391.8848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1683.9468" x2="2082.292" y1="2391.8848" y2="2391.8848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.5054" x="1690.9468" y="2371.832">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380.3452" x="1690.9468" y="2387.1426">{products[], chatId, provider: "amazon", eventId, totalEvents}</text></g><path d="M1897,2411.8848 L1897,2466.8848 L2288,2466.8848 L2288,2421.8848 L2278,2411.8848 L1897,2411.8848" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2278,2411.8848 L2278,2421.8848 L2288,2421.8848 L2278,2411.8848" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370.2334" x="1903" y="2429.4531">Reranking Service &#347;ledzi wszystkie przychodz&#261;ce produkty</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309.4419" x="1903" y="2444.7637">wed&#322;ug eventId i czeka, a&#380; wszystkie oczekiwane</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.7231" x="1903" y="2460.0742">zdarzenia nadejd&#261; (totalEvents)</text><g class="message" data-participant-1="RERANK" data-participant-2="RERANK"><line style="stroke:#181818;stroke-width:1;" x1="2098.292" x2="2140.292" y1="2509.4375" y2="2509.4375"/><line style="stroke:#181818;stroke-width:1;" x1="2140.292" x2="2140.292" y1="2509.4375" y2="2522.4375"/><line style="stroke:#181818;stroke-width:1;" x1="2099.292" x2="2140.292" y1="2522.4375" y2="2522.4375"/><polygon fill="#181818" points="2109.292,2518.4375,2099.292,2522.4375,2109.292,2526.4375,2105.292,2522.4375" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3271" x="2105.292" y="2489.3848">Zbierz i zagreguj produkty</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8281" x="2105.292" y="2504.6953">ze wszystkich &#378;r&#243;de&#322;</text></g><path d="M162,2537.4375 L224.1387,2537.4375 L224.1387,2544.748 L214.1387,2554.748 L162,2554.748 L162,2537.4375" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="191.1738" style="stroke:#000000;stroke-width:1.5;" width="2227.7295" x="162" y="2537.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="177" y="2551.0059">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="246.5171" x="239.1387" y="2550.0723">[Wszystkie produkty zebrane (lub timeout)]</text><g class="message" data-participant-1="RERANK" data-participant-2="RERANK"><line style="stroke:#181818;stroke-width:1;" x1="2098.292" x2="2140.292" y1="2591.3691" y2="2591.3691"/><line style="stroke:#181818;stroke-width:1;" x1="2140.292" x2="2140.292" y1="2591.3691" y2="2604.3691"/><line style="stroke:#181818;stroke-width:1;" x1="2099.292" x2="2140.292" y1="2604.3691" y2="2604.3691"/><polygon fill="#181818" points="2109.292,2600.3691,2099.292,2604.3691,2109.292,2608.3691,2105.292,2604.3691" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.5146" x="2105.292" y="2571.3164">AI rerankowanie i filtrowanie</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4375" x="2105.292" y="2586.627">(na podstawie profilu + s&#322;&#243;w kluczowych)</text></g><g class="message" data-participant-1="RERANK" data-participant-2="REST"><polygon fill="#181818" points="439.0313,2644.9902,429.0313,2648.9902,439.0313,2652.9902,435.0313,2648.9902" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="433.0313" x2="2092.292" y1="2648.9902" y2="2648.9902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.9434" x="445.0313" y="2628.9375">GiftReadyEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.314" x="445.0313" y="2644.248">{chatId, giftIdeas[]}</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="428.0313" x2="470.0313" y1="2678.3008" y2="2678.3008"/><line style="stroke:#181818;stroke-width:1;" x1="470.0313" x2="470.0313" y1="2678.3008" y2="2691.3008"/><line style="stroke:#181818;stroke-width:1;" x1="429.0313" x2="470.0313" y1="2691.3008" y2="2691.3008"/><polygon fill="#181818" points="439.0313,2687.3008,429.0313,2691.3008,439.0313,2695.3008,435.0313,2691.3008" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.1733" x="435.0313" y="2673.5586">NotifyUserSseCommand</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="201.1826,2716.6113,191.1826,2720.6113,201.1826,2724.6113,197.1826,2720.6113" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="195.1826" x2="422.0313" y1="2720.6113" y2="2720.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.0186" x="207.1826" y="2715.8691">SSE: gift-ready</text></g><!--SRC=[hLVDRjj64BxhAGRk9LPjz6x01HH7TeGuiMlPI9iuA5RSjRmYjSkGIzDaa8kHeCzGv35oItEBzLwTsIMffKGdQEs38LaxEx_Vp7nhf8a434Pmd8XKA0FxKd6HmBX8ZPZ3Dep5sqoeGC0JoQO9cuE-WE4LIgR058SzFP_ZPzhhiS3e1CvIlCnIEEl5B34oa353fHidm_4f38v76tH6_xIFzowPGKl9bGo45TbxEbWH6HiMXL9DMsBZqy7XixRSWRmmCEA2JZt9Wz7-QM-Yhs5ZNvZW4fxB8D6f4qWtuAT3ERqqZwDCz01Q-euEVxSAzeUdUq__nFzM1GPH9AQ9zeG6XuV3WvEZLK7nc1MUrF3nu8yrNNDMQkMhUZvuTVIY9p3JwFnAJaN2r5fAJeOdWnVFUhtTNS2K9GPIaSuaxExspc3xLvlx7JW-mdByabOftKwengavL-y2BCI8Rq6g0yaYE3ivJDzJPUKLCy8LpfQoqTJlMol7YSOyfgYi0aI_toDl4LQbC3bBIgOaAlZsELSQyxMueKJNgcmPArtMeu5YKL6A4-UNu1Pm_RxdeFCCeF7DGG7Sv_UKDWwUgqSCVv8bWpZH5pAITTXpmINRx8aezRqaJ98-0giDUgGC9Lxag-wr7BDGnWBQaZHN8D8wfghOpoSw_lOvbDI7bAQIYw3WsGo_iL0lFWHbSViNHDc4JlF53Ljy2cHEfy6bpcrcCyGoGxDapNVsG2WyCE8tIgJKoeyUhJM6D2YMcjk_OrNC8IuCAiqs6trUkIdwMjaW3RjgyxOwVkybhxx-GXjvKT2K6AVBKdY2Ppim7WztW9HDjDcU8wpObEgmZb_CQdtkcMSgpKNIPNoC5yZqStUdo_nz_SIq2YmAv99nFTTKACWMNmiJwbp9a6tU0IYoDB2ETsMqKew8jq1YaO6N1Pbe0A9L0R6U5ujF4SAX0mX1XEEkWL-_3qRhA61HvCdIaAmTQaGn-3WIdKtesaQqu6u7BTWFN-LPpF6qKOhzOxBK1sF9OfcMbKe7Pnn3SS9ollW2s05GZokOQgFpOjDpt0Tdu- -oX5tzUQ-2RyiwaEsWDeUYIcC28d5XTZhAitMkH8WJ6x1_kUrQPYSCYeP9OVITlTrHp8k8JKUAnPYjE96Os6fITfVLpqxNhVN29hW-7w1_CKsUjNhDeF2FKyMcE9k1HwpLFGx-kDnRmvK6wwlgjg1XM4_yZ0Piin1gADQdtm5sA8fS9npxpRFbDamti6kTT-AwrhY2wTp5NYEQ8dccKQvGB9WniDFROOK86aPdS8DIL3P_-Wh9bdFaW1UW9mm4nO9VJL8Mw8Dmm-8LI-pcNVRGZ8KWQ_FBr8kErgrN234hIwoyyDvL8s3B2t3POzR9X9ZL3gssAIboMyrj68OEf6KMIXlXkQ9ovr946PAM99Sf-enQ74b2cE1iapFW6jQOZuLKxRTZGDPpz7XFOwjU8-wbaRJi_NBVwVoMooDzCHfJvWZlUsl6OqEMQG4GA1itVOe3YtzkFt8RgALpBJSRGacUMb9w55qlVSDMIOh_v8_FKErWgPXfXzMAeJQMAydxMrzIN-i1KTuEyqHz6zl32IlkRxXYqovkowAxmhPiUXcrbNk0e1r9RyQQHJozazfMNoAoQ-mlFY3Vgb1-hl1hh3ds9eBVKh9oHbomWXRzUMF8BbWxyYQI-W2l8FlcMMX7WwoQewA5E2a8b4SyrgYRbn8qXpmjyNKNIdm6-NtMuAVTH5PvO6p6Lfg7VazVlrcc37-xalXyt84D7Lrlt9N35NIseFCWnbdr9lkk0nKub_Xv4DC2uVo3m6ju-l1ucB3Ty_5EwsqWBUV5sezr6wyTs3PR5tSDu2sbPZQkZMh0AMw1MADGO0HbWMI7bxSV0_hFWfbAamk-kCccTJW8Rbpm8V92jlZgtTVqA-qGsWCbnyUce96h61SpVliH7dbPsBHlQNAqrtDE-fctBLMYdP9D4p7DPeqtvweKVkCilk16vM9nKx5nBnXt0KenmT05FA9tcv5peJFZsF-gLLoDYT-q4d0h6RVtwK7H6WzkPsNmCwIB6-huCCfmS-UOmLNjZh7H4ZmHZ1VhD6TQR_JNRsYmUNLTrk__yZ_IZOmFxQvg7hldyBy0]--></g></svg>