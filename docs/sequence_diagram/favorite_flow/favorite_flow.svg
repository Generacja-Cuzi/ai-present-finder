<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1997px" preserveAspectRatio="none" style="width:830px;height:1997px;background:#FFFFFF;" version="1.1" viewBox="0 0 830 1997" width="830px" zoomAndPan="magnify"><title>AI Present Finder - Favorite Products Flow</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="306.6738" x="257.8005" y="28.5352">AI Present Finder - Favorite Products Flow</text><g><title>REST API</title><rect fill="#FFFFFF" height="611.4316" style="stroke:#181818;stroke-width:1;" width="10" x="495.4053" y="391.082"/></g><g><title>REST API</title><rect fill="#FFFFFF" height="434.6133" style="stroke:#181818;stroke-width:1;" width="10" x="495.4053" y="1082.4453"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="559.9453"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="618.5664"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="677.1875"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="795.3848"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="913.582"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1251.3086"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1309.9297"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1428.127"/></g><rect fill="none" height="474.1895" style="stroke:#000000;stroke-width:1.5;" width="804.2749" x="9" y="521.3242"/><rect fill="none" height="297.3711" style="stroke:#000000;stroke-width:1.5;" width="802.2749" x="11" y="1212.6875"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="602.2749" x="211" y="1690.9219"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1797.0742" width="8" x="235.1826" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="239" x2="239" y1="118.9766" y2="1916.0508"/></g><g><title>REST API</title><rect fill="#000000" fill-opacity="0.00000" height="1797.0742" width="8" x="496.4053" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="499.8091" x2="499.8091" y1="118.9766" y2="1916.0508"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="1797.0742" width="8" x="757.8501" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="761.4253" x2="761.4253" y1="118.9766" y2="1916.0508"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="221" y="116.0234">User</text><ellipse cx="239.1826" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M239.1826,58.9883 L239.1826,85.9883 M226.1826,66.9883 L252.1826,66.9883 M239.1826,85.9883 L226.1826,100.9883 M239.1826,85.9883 L252.1826,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="221" y="1928.5859">User</text><ellipse cx="239.1826" cy="1940.0391" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M239.1826,1948.0391 L239.1826,1975.0391 M226.1826,1956.0391 L252.1826,1956.0391 M239.1826,1975.0391 L226.1826,1990.0391 M239.1826,1975.0391 L252.1826,1990.0391" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="REST"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.1924" x="428.8091" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="471.0586" y="91.5352">REST API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1924" x="435.8091" y="108.0234">FavoritesController</text></g><g class="participant participant-tail" data-participant="REST"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.1924" x="428.8091" y="1915.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="471.0586" y="1935.5859">REST API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1924" x="435.8091" y="1952.0742">FavoritesController</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="720.4253" y="116.0234">PostgreSQL</text><path d="M743.8501,66.4883 C743.8501,56.4883 761.8501,56.4883 761.8501,56.4883 C761.8501,56.4883 779.8501,56.4883 779.8501,66.4883 L779.8501,92.4883 C779.8501,102.4883 761.8501,102.4883 761.8501,102.4883 C761.8501,102.4883 743.8501,102.4883 743.8501,92.4883 L743.8501,66.4883" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M743.8501,66.4883 C743.8501,76.4883 761.8501,76.4883 761.8501,76.4883 C761.8501,76.4883 779.8501,76.4883 779.8501,66.4883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="720.4253" y="1928.5859">PostgreSQL</text><path d="M743.8501,1941.5391 C743.8501,1931.5391 761.8501,1931.5391 761.8501,1931.5391 C761.8501,1931.5391 779.8501,1931.5391 779.8501,1941.5391 L779.8501,1967.5391 C779.8501,1977.5391 761.8501,1977.5391 761.8501,1977.5391 C761.8501,1977.5391 743.8501,1977.5391 743.8501,1967.5391 L743.8501,1941.5391" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M743.8501,1941.5391 C743.8501,1951.5391 761.8501,1951.5391 761.8501,1951.5391 C761.8501,1951.5391 779.8501,1951.5391 779.8501,1941.5391" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>REST API</title><rect fill="#FFFFFF" height="611.4316" style="stroke:#181818;stroke-width:1;" width="10" x="495.4053" y="391.082"/></g><g><title>REST API</title><rect fill="#FFFFFF" height="434.6133" style="stroke:#181818;stroke-width:1;" width="10" x="495.4053" y="1082.4453"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="559.9453"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="618.5664"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="677.1875"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="795.3848"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="913.582"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1251.3086"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1309.9297"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="756.8501" y="1428.127"/></g><path d="M211,133.9766 L211,188.9766 L788,188.9766 L788,143.9766 L778,133.9766 L211,133.9766" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M778,133.9766 L778,143.9766 L788,143.9766 L778,133.9766" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376.8604" x="306.7073" y="151.5449">Ten flow dzia&#322;a po otrzymaniu produkt&#243;w z g&#322;&#243;wnego flow.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.7461" x="306.7073" y="166.8555">U&#380;ytkownik ma list&#281; produkt&#243;w z ich database ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.127" x="306.7073" y="182.166">i mo&#380;e dodawa&#263;/usuwa&#263; je z ulubionych.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="823.2749" x="0" y="215.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="215.5635" y2="215.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="218.5635" y2="218.5635"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="341.7739" x="240.7505" y="204.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="323.4893" x="246.7505" y="221.4766">U&#380;ytkownik otrzyma&#322; produkty z g&#322;&#243;wnego flow</text><g class="message" data-participant-1="U" data-participant-2="U"><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="281.1826" y1="274.8398" y2="274.8398"/><line style="stroke:#181818;stroke-width:1;" x1="281.1826" x2="281.1826" y1="274.8398" y2="287.8398"/><line style="stroke:#181818;stroke-width:1;" x1="240.1826" x2="281.1826" y1="287.8398" y2="287.8398"/><polygon fill="#181818" points="250.1826,283.8398,240.1826,287.8398,250.1826,291.8398,246.1826,287.8398" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0298" x="246.1826" y="254.7871">Wy&#347;wietla list&#281; produkt&#243;w</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.5659" x="246.1826" y="270.0977">z gift-ready event</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="823.2749" x="0" y="316.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="316.4951" y2="316.4951"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="319.4951" y2="319.4951"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="258.1943" x="282.5403" y="305.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="239.9097" x="288.5403" y="322.4082">Dodawanie produktu do ulubionych</text><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="483.4053,387.082,493.4053,391.082,483.4053,395.082,487.4053,391.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="489.4053" y1="391.082" y2="391.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.9189" x="246.1826" y="355.7188">POST /favorites</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.3188" x="246.1826" y="371.0293">{listingId}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.1733" x="246.1826" y="386.3398">+ JWT cookie</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="547.4053" y1="435.7031" y2="435.7031"/><line style="stroke:#181818;stroke-width:1;" x1="547.4053" x2="547.4053" y1="435.7031" y2="448.7031"/><line style="stroke:#181818;stroke-width:1;" x1="506.4053" x2="547.4053" y1="448.7031" y2="448.7031"/><polygon fill="#181818" points="516.4053,444.7031,506.4053,448.7031,516.4053,452.7031,512.4053,448.7031" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.2373" x="512.4053" y="415.6504">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.603" x="512.4053" y="430.9609">(weryfikacja tokena, extract userId)</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="547.4053" y1="493.3242" y2="493.3242"/><line style="stroke:#181818;stroke-width:1;" x1="547.4053" x2="547.4053" y1="493.3242" y2="506.3242"/><line style="stroke:#181818;stroke-width:1;" x1="506.4053" x2="547.4053" y1="506.3242" y2="506.3242"/><polygon fill="#181818" points="516.4053,502.3242,506.4053,506.3242,516.4053,510.3242,512.4053,506.3242" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.1387" x="512.4053" y="473.2715">AddToFavoritesCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.7295" x="512.4053" y="488.582">{userId, listingId}</text></g><path d="M9,521.3242 L71.1387,521.3242 L71.1387,528.6348 L61.1387,538.6348 L9,538.6348 L9,521.3242" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="474.1895" style="stroke:#000000;stroke-width:1.5;" width="804.2749" x="9" y="521.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="24" y="534.8926">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145.1108" x="86.1387" y="533.959">[Produkt istnieje w bazie]</text><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,555.9453,754.8501,559.9453,744.8501,563.9453,748.8501,559.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="559.9453" y2="559.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6206" x="512.4053" y="555.2031">Znajd&#378; listing po ID</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,585.2559,506.4053,589.2559,516.4053,593.2559,512.4053,589.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="589.2559" y2="589.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.8086" x="522.4053" y="584.5137">Listing entity</text></g><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,614.5664,754.8501,618.5664,744.8501,622.5664,748.8501,618.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="618.5664" y2="618.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.5854" x="512.4053" y="613.8242">Sprawd&#378; czy ju&#380; w ulubionych</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,643.877,506.4053,647.877,516.4053,651.877,512.4053,647.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="647.877" y2="647.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.6021" x="522.4053" y="643.1348">Not favorited</text></g><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,673.1875,754.8501,677.1875,744.8501,681.1875,748.8501,677.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="677.1875" y2="677.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.4448" x="512.4053" y="672.4453">Dodaj listing do user.favoriteListings</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,702.498,506.4053,706.498,516.4053,710.498,512.4053,706.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="706.498" y2="706.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.8833" x="522.4053" y="701.7559">Success</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,747.1191,240.1826,751.1191,250.1826,755.1191,246.1826,751.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="494.4053" y1="751.1191" y2="751.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="256.1826" y="731.0664">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.8691" x="256.1826" y="746.377">{message: "Added to favorites"}</text></g><path d="M19,724.1533 L19,749.1533 L233,749.1533 L233,734.1533 L223,724.1533 L19,724.1533" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M223,724.1533 L223,734.1533 L233,734.1533 L223,724.1533" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.502" x="25" y="741.7217">Produkt dodany do ulubionych</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="9" x2="813.2749" y1="760.1191" y2="760.1191"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.9644" x="14" y="770.7539">[Produkt nie istnieje]</text><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,791.3848,754.8501,795.3848,744.8501,799.3848,748.8501,795.3848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="795.3848" y2="795.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6206" x="512.4053" y="790.6426">Znajd&#378; listing po ID</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,820.6953,506.4053,824.6953,516.4053,828.6953,512.4053,824.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="824.6953" y2="824.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.6514" x="522.4053" y="819.9531">null</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,865.3164,240.1826,869.3164,250.1826,873.3164,246.1826,869.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="494.4053" y1="869.3164" y2="869.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="256.1826" y="849.2637">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.8901" x="256.1826" y="864.5742">{message: "Listing not found"}</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="9" x2="813.2749" y1="878.3164" y2="878.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.8535" x="14" y="888.9512">[Ju&#380; w ulubionych]</text><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,909.582,754.8501,913.582,744.8501,917.582,748.8501,913.582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="913.582" y2="913.582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.5854" x="512.4053" y="908.8398">Sprawd&#378; czy ju&#380; w ulubionych</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,938.8926,506.4053,942.8926,516.4053,946.8926,512.4053,942.8926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="942.8926" y2="942.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.5928" x="522.4053" y="938.1504">Already favorited</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,983.5137,240.1826,987.5137,250.1826,991.5137,246.1826,987.5137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="494.4053" y1="987.5137" y2="987.5137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.3599" x="256.1826" y="967.4609">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.5313" x="256.1826" y="982.7715">{message: "Already in favorites"}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="823.2749" x="0" y="1023.1689"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="1023.1689" y2="1023.1689"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="1026.1689" y2="1026.1689"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="239.5513" x="291.8618" y="1012.5137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="221.2666" x="297.8618" y="1029.082">Usuwanie produktu z ulubionych</text><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="483.4053,1078.4453,493.4053,1082.4453,483.4053,1086.4453,487.4053,1082.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="489.4053" y1="1082.4453" y2="1082.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2339" x="246.1826" y="1062.3926">DELETE /favorites/:listingId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.1733" x="246.1826" y="1077.7031">+ JWT cookie</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="547.4053" y1="1127.0664" y2="1127.0664"/><line style="stroke:#181818;stroke-width:1;" x1="547.4053" x2="547.4053" y1="1127.0664" y2="1140.0664"/><line style="stroke:#181818;stroke-width:1;" x1="506.4053" x2="547.4053" y1="1140.0664" y2="1140.0664"/><polygon fill="#181818" points="516.4053,1136.0664,506.4053,1140.0664,516.4053,1144.0664,512.4053,1140.0664" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.2373" x="512.4053" y="1107.0137">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.603" x="512.4053" y="1122.3242">(weryfikacja tokena, extract userId)</text></g><g class="message" data-participant-1="REST" data-participant-2="REST"><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="547.4053" y1="1184.6875" y2="1184.6875"/><line style="stroke:#181818;stroke-width:1;" x1="547.4053" x2="547.4053" y1="1184.6875" y2="1197.6875"/><line style="stroke:#181818;stroke-width:1;" x1="506.4053" x2="547.4053" y1="1197.6875" y2="1197.6875"/><polygon fill="#181818" points="516.4053,1193.6875,506.4053,1197.6875,516.4053,1201.6875,512.4053,1197.6875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="216.1758" x="512.4053" y="1164.6348">RemoveFromFavoritesCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.7295" x="512.4053" y="1179.9453">{userId, listingId}</text></g><path d="M11,1212.6875 L73.1387,1212.6875 L73.1387,1219.998 L63.1387,1229.998 L11,1229.998 L11,1212.6875" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="297.3711" style="stroke:#000000;stroke-width:1.5;" width="802.2749" x="11" y="1212.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="26" y="1226.2559">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.231" x="88.1387" y="1225.3223">[Produkt w ulubionych]</text><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,1247.3086,754.8501,1251.3086,744.8501,1255.3086,748.8501,1251.3086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="1251.3086" y2="1251.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3354" x="512.4053" y="1246.5664">Znajd&#378; user z favoriteListings</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,1276.6191,506.4053,1280.6191,516.4053,1284.6191,512.4053,1280.6191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="1280.6191" y2="1280.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.6094" x="522.4053" y="1275.877">User with favorites</text></g><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,1305.9297,754.8501,1309.9297,744.8501,1313.9297,748.8501,1309.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="1309.9297" y2="1309.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.4609" x="512.4053" y="1305.1875">Usu&#324; listing z user.favoriteListings</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,1335.2402,506.4053,1339.2402,516.4053,1343.2402,512.4053,1339.2402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="1339.2402" y2="1339.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.8833" x="522.4053" y="1334.498">Success</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,1379.8613,240.1826,1383.8613,250.1826,1387.8613,246.1826,1383.8613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="494.4053" y1="1383.8613" y2="1383.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.3599" x="256.1826" y="1363.8086">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.2227" x="256.1826" y="1379.1191">{message: "Removed from favorites"}</text></g><path d="M21,1356.8955 L21,1381.8955 L233,1381.8955 L233,1366.8955 L223,1356.8955 L21,1356.8955" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M223,1356.8955 L223,1366.8955 L233,1366.8955 L223,1356.8955" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.8833" x="27" y="1374.4639">Produkt usuni&#281;ty z ulubionych</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="11" x2="813.2749" y1="1392.8613" y2="1392.8613"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153.103" x="16" y="1403.4961">[Produkt nie w ulubionych]</text><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="744.8501,1424.127,754.8501,1428.127,744.8501,1432.127,748.8501,1428.127" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.4053" x2="750.8501" y1="1428.127" y2="1428.127"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3354" x="512.4053" y="1423.3848">Znajd&#378; user z favoriteListings</text></g><g class="message" data-participant-1="DB" data-participant-2="REST"><polygon fill="#181818" points="516.4053,1453.4375,506.4053,1457.4375,516.4053,1461.4375,512.4053,1457.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="510.4053" x2="760.8501" y1="1457.4375" y2="1457.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.3262" x="522.4053" y="1452.6953">User without this favorite</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,1498.0586,240.1826,1502.0586,250.1826,1506.0586,246.1826,1502.0586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="494.4053" y1="1502.0586" y2="1502.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="256.1826" y="1482.0059">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5405" x="256.1826" y="1497.3164">{message: "Not in favorites"}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="823.2749" x="0" y="1537.7139"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="1537.7139" y2="1537.7139"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="823.2749" y1="1540.7139" y2="1540.7139"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="256.8169" x="283.229" y="1527.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="238.5322" x="289.229" y="1543.627">Prze&#322;&#261;czanie stanu (toggle favorite)</text><path d="M211,1565.3691 L211,1620.3691 L788,1620.3691 L788,1575.3691 L778,1565.3691 L211,1565.3691" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M778,1565.3691 L778,1575.3691 L788,1575.3691 L778,1565.3691" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.2539" x="341.0227" y="1582.9375">Frontend mo&#380;e implementowa&#263; toggle:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308.2295" x="341.0227" y="1598.248">klikni&#281;cie ikony serca wywo&#322;uje POST lub DELETE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.6685" x="341.0227" y="1613.5586">w zale&#380;no&#347;ci od aktualnego stanu</text><g class="message" data-participant-1="U" data-participant-2="U"><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="281.1826" y1="1662.9219" y2="1662.9219"/><line style="stroke:#181818;stroke-width:1;" x1="281.1826" x2="281.1826" y1="1662.9219" y2="1675.9219"/><line style="stroke:#181818;stroke-width:1;" x1="240.1826" x2="281.1826" y1="1675.9219" y2="1675.9219"/><polygon fill="#181818" points="250.1826,1671.9219,240.1826,1675.9219,250.1826,1679.9219,246.1826,1675.9219" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.7827" x="246.1826" y="1642.8691">Klikni&#281;cie ikony serca</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3545" x="246.1826" y="1658.1797">na produkcie</text></g><path d="M211,1690.9219 L273.1387,1690.9219 L273.1387,1698.2324 L263.1387,1708.2324 L211,1708.2324 L211,1690.9219" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="602.2749" x="211" y="1690.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="226" y="1704.4902">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178.9756" x="288.1387" y="1703.5566">[Produkt NIE jest w ulubionych]</text><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="488.4053,1725.543,498.4053,1729.543,488.4053,1733.543,492.4053,1729.543" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="494.4053" y1="1729.543" y2="1729.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.3511" x="246.1826" y="1724.8008">POST /favorites {listingId}</text></g><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="749.8501,1754.8535,759.8501,1758.8535,749.8501,1762.8535,753.8501,1758.8535" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="500.4053" x2="755.8501" y1="1758.8535" y2="1758.8535"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.8379" x="507.4053" y="1754.1113">Dodaj do ulubionych</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,1784.1641,240.1826,1788.1641,250.1826,1792.1641,246.1826,1788.1641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="499.4053" y1="1788.1641" y2="1788.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.0229" x="256.1826" y="1783.4219">Sukces (ikona wype&#322;niona)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="211" x2="813.2749" y1="1797.1641" y2="1797.1641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.3574" x="216" y="1807.7988">[Produkt JU&#379; JEST w ulubionych]</text><g class="message" data-participant-1="U" data-participant-2="REST"><polygon fill="#181818" points="488.4053,1828.4297,498.4053,1832.4297,488.4053,1836.4297,492.4053,1832.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="239.1826" x2="494.4053" y1="1832.4297" y2="1832.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2339" x="246.1826" y="1827.6875">DELETE /favorites/:listingId</text></g><g class="message" data-participant-1="REST" data-participant-2="DB"><polygon fill="#181818" points="749.8501,1857.7402,759.8501,1861.7402,749.8501,1865.7402,753.8501,1861.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="500.4053" x2="755.8501" y1="1861.7402" y2="1861.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.854" x="507.4053" y="1856.998">Usu&#324; z ulubionych</text></g><g class="message" data-participant-1="REST" data-participant-2="U"><polygon fill="#181818" points="250.1826,1887.0508,240.1826,1891.0508,250.1826,1895.0508,246.1826,1891.0508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="244.1826" x2="499.4053" y1="1891.0508" y2="1891.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3843" x="256.1826" y="1886.3086">Sukces (ikona pusta)</text></g><!--SRC=[lLRDRjiu4BxhAGO-9Md-MlHa80MSsbxO3Lgtjb5WuGiZqZOjYZGaCgeKz6BiOf-Xw6FihSsjqNljaBOKgtQS_kx9XiYP-JZVV3EZkHOC6XteHIncKaERIyeYE88skL8HrmnF53M-Zg4jLE9vnDSgWc6CbqWCGszE8irzFYTeN7lJwW-WqUkCP64UFrTIHqe85jMiWRtXKQB99OaPr7egrfE8zLzVkDFckUT9XK7L5VeV7jeF00CcOOp1WMQSv0i2SmLAHraQ4iaDp2t0G7_vDu4C9la2_qWsKSxa6Cs7-Ksg0vL87a18GF1OttweMd5_2YMeJXEDE8Ggls505IK9kVtdnCJ6_iACuNqZp2LNClMdnnwJ52ncppixgyHQGSmNHQnq4n-SdNb3E7e6mpgyJVEF2MTQRC4uacZAn_eeOeIcmAwGAnUmwV19pehB1Y6luIi3sCJNeVSA2JeP5-ICvBKDnUMaGz-Fv2FelXs0hrJ0cIMQNn7amb7cc2tT71nq4zqmUlg78H4zE1Z9lOH5wPW7n9yHq2fWaXm2UwSZT0C6gwL3zpUSD2WTgBLA2P5Gv-rwQN48T-YmyeHU5cEW0J_Zcv6B12v9XcW12kVDyphyAScCvfyASrimZjNoJQwkckTmLAAvM5t5n7ATuYbbrTjVXUZF8vBO67wMmipaDmZbBksxOxrK6WeEwCEXBCUpyYsMNipESU5W1JpU7R9lV9_5yQvWoofySleOdcEL8JBa8KGRCc5rg25NZ2Ap9V2uzXvDdLe56-jwoOsLZ4ohPUWn4RFoXYtNWi6VPquQ8RQyQ_rHJq-VkgItbP7LPnMqIqk9FSLNEQpTBPJ-AluROYdZNJLGvUGKNhseqh5omMM546n6tfed9rtNbsptgdI9xFucqMnTj0QjjJPnKYzr-FytYJSin6dGZbJuGvrY1uL5hLaNc8_l4vIRW0dNqxlyFwnaf27_gwpjx3SBUQDebgcaCCPaFgnZd7YIttvmOskNadzxXfNHeASyBkr_MEtswpSgfXTbB5_S_krdJZUn9jB0dbQJ2IvCXODzgvpDXGMBLMgx5ont21xE1Gjni2YtGInzrF5U87XWK-pRVXXW0W6Vx1D8qaJb2uFZpSrhpEvAasY3wmeHBB-HAl_eSr0K2CgP2BTIE9Hh6qcnMhpO7cWa9Lbr1D-AUKqsBpijN7NY3VtSlql0sYgnTO1L1qALiZuYG1Tx5fnz_nnpB_4csQ_MMtUOVuQkDRmVrwxsjLMFsRVYcXjCyBuhcVy0]--></g></svg>