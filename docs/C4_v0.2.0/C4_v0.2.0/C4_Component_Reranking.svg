<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1239px" preserveAspectRatio="none" style="width:2748px;height:1239px;background:#FFFFFF;" version="1.1" viewBox="0 0 2748 1239" width="2748px" zoomAndPan="magnify"><defs/><g><!--cluster reranking--><g class="cluster" data-entity="reranking" data-source-line="1660" data-uid="ent0002" id="cluster_reranking"><rect fill="none" height="953.65" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="2331" x="224.73" y="168.95"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="263.4531" x="1258.5034" y="186.4187">Reranking Microservice (NestJS)</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="67.0137" x="1356.7232" y="201.3953">[container]</text></g><!--entity context_handler--><g class="entity" data-entity="context_handler" data-source-line="68" data-uid="ent0003" id="entity_context_handler"><rect fill="#85BBF0" height="135.418" style="stroke:#78A8D8;stroke-width:0.5;" width="260.9688" x="240.24" y="475.86"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="240.9688" x="250.24" y="501.3287">GiftContextInitializedHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2383" x="326.5007" y="516.3053">[Event</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="361.739" y="516.3053">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="365.5359" y="516.3053">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="368.5095" y="532.3717">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.8066" x="335.3211" y="548.86">Consumes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.8828" x="277.783" y="565.3483">GiftContextInitializedEvent,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.0918" x="329.0457" y="581.8366">delegates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="394.1375" y="581.8366">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13.8359" x="398.5671" y="581.8366">to</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.7412" x="267.8538" y="598.3248">InitializeGiftContextCommand</text></g><!--entity product_handler--><g class="entity" data-entity="product_handler" data-source-line="68" data-uid="ent0004" id="entity_product_handler"><rect fill="#85BBF0" height="151.9063" style="stroke:#78A8D8;stroke-width:0.5;" width="212.3125" x="1338.57" y="219.95"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="192.3125" x="1348.57" y="245.4187">ProductFetchedHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2383" x="1400.5026" y="260.3953">[Event</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1435.7409" y="260.3953">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="1439.5378" y="260.3953">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1442.5114" y="276.4617">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.8066" x="1409.3229" y="292.95">Consumes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.9746" x="1371.7389" y="309.4383">ProductFetchedEvent,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.9932" x="1375.2424" y="325.9266">orchestrates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1459.2355" y="325.9266">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5449" x="1463.6652" y="325.9266">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.4316" x="1356.3615" y="342.4148">creation,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1415.7931" y="342.4148">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.0469" x="1420.2228" y="342.4148">product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1473.2697" y="342.4148">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.3916" x="1477.6994" y="342.4148">storage,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="1361.8884" y="358.9031">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1387.1198" y="358.9031">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0703" x="1391.5495" y="358.9031">completion</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1467.6198" y="358.9031">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.5146" x="1472.0495" y="358.9031">tracking</text></g><!--entity create_session--><g class="entity" data-entity="create_session" data-source-line="68" data-uid="ent0005" id="entity_create_session"><rect fill="#85BBF0" height="102.4414" style="stroke:#78A8D8;stroke-width:0.5;" width="202.2598" x="525.6" y="731.76"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="180.7031" x="536.3783" y="757.2288">CreateSessionHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="568.3207" y="772.2053">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="631.9301" y="772.2053">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="635.727" y="772.2053">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="624.515" y="788.2717">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.1191" x="535.6" y="804.76">Creates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="586.7191" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.3281" x="591.1488" y="804.76">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="605.477" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9785" x="609.9066" y="804.76">ensures</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="662.8852" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5449" x="667.3148" y="804.76">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.9424" x="567.7836" y="821.2483">exists</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="607.726" y="821.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19.4756" x="612.1557" y="821.2483">for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="631.6313" y="821.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.6152" x="636.0609" y="821.2483">eventId</text></g><!--entity init_context--><g class="entity" data-entity="init_context" data-source-line="68" data-uid="ent0006" id="entity_init_context"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="250.3672" x="240.54" y="723.52"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="230.3672" x="250.54" y="748.9888">InitializeGiftContextHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="307.3144" y="763.9653">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="370.9238" y="763.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="374.7207" y="763.9653">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="363.5087" y="780.0317">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.8389" x="280.8076" y="796.52">Initializes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="345.6464" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.3281" x="350.0761" y="796.52">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="364.4043" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.2158" x="368.8339" y="796.52">updates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="423.0498" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.1602" x="427.4795" y="796.52">gift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3174" x="267.4433" y="813.0083">context</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="318.7607" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="323.1904" y="813.0083">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="351.9492" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3535" x="356.3789" y="813.0083">user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="385.7324" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.1807" x="390.1621" y="813.0083">profile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="434.3427" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="438.7724" y="813.0083">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.3604" x="333.5434" y="829.4966">keywords</text></g><!--entity add_products--><g class="entity" data-entity="add_products" data-source-line="68" data-uid="ent0007" id="entity_add_products"><rect fill="#85BBF0" height="102.4414" style="stroke:#78A8D8;stroke-width:0.5;" width="274.0938" x="2010.68" y="731.76"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="254.0938" x="2020.68" y="757.2288">AddProductsToSessionHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="2089.3177" y="772.2053">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2152.9271" y="772.2053">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="2156.7239" y="772.2053">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2145.512" y="788.2717">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.041" x="2058.3299" y="804.76">Stores</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2100.3709" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="2104.8006" y="804.76">products</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2164.9842" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12.7354" x="2169.4139" y="804.76">in</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2182.1492" y="804.76">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5449" x="2186.5789" y="804.76">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="2054.0814" y="821.2483">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2082.8402" y="821.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.124" x="2087.2698" y="821.2483">source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2132.3939" y="821.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.7705" x="2136.8236" y="821.2483">event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2173.5941" y="821.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.3486" x="2178.0238" y="821.2483">metadata</text></g><!--entity increment_completion--><g class="entity" data-entity="increment_completion" data-source-line="68" data-uid="ent0008" id="entity_increment_completion"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="324.9766" x="763.24" y="723.52"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="304.9766" x="773.24" y="748.9888">IncrementSessionCompletionHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="867.3191" y="763.9653">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="930.9285" y="763.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="934.7254" y="763.9653">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="923.5134" y="780.0317">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.3525" x="825.9954" y="796.52">Increments</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="901.3479" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.3467" x="905.7776" y="796.52">completed</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="977.1243" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.9072" x="981.554" y="796.52">events</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.3418" x="837.2815" y="813.0083">counter,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="893.6233" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.8496" x="898.053" y="813.0083">marks</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="939.9026" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5449" x="944.3323" y="813.0083">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="994.8772" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.8682" x="999.3069" y="813.0083">as</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.5352" x="855.0994" y="829.4966">complete</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="917.6345" y="829.4966">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.9639" x="922.0642" y="829.4966">when</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="958.0281" y="829.4966">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.8994" x="962.4578" y="829.4966">done</text></g><!--entity emit_ready--><g class="entity" data-entity="emit_ready" data-source-line="68" data-uid="ent0009" id="entity_emit_ready"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="292.2813" x="1668.59" y="484.1"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="272.2813" x="1678.59" y="509.5687">RerankAndEmitGiftReadyHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="1756.3214" y="524.5453">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1819.9308" y="524.5453">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="1823.7277" y="524.5453">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1812.5158" y="540.6117">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.6465" x="1725.3849" y="557.1">Retrieves</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1787.0314" y="557.1">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.6133" x="1791.4611" y="557.1">products,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1856.0744" y="557.1">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5723" x="1860.5041" y="557.1">scores</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.7949" x="1716.4914" y="573.5883">them</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1751.2863" y="573.5883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19.0244" x="1755.716" y="573.5883">via</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1774.7404" y="573.5883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18.1221" x="1779.1701" y="573.5883">AI,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1797.2921" y="573.5883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.1426" x="1801.7218" y="573.5883">filters</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1840.8644" y="573.5883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.9883" x="1845.2941" y="573.5883">(score</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1886.2824" y="573.5883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.2578" x="1890.7121" y="573.5883">&gt;=</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.835" x="1717.0998" y="590.0766">5),</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1734.9347" y="590.0766">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="1739.3644" y="590.0766">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1764.5959" y="590.0766">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.29" x="1769.0255" y="590.0766">emits</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1806.3156" y="590.0766">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.6162" x="1810.7453" y="590.0766">GiftReadyEvent</text></g><!--entity mark_timeout--><g class="entity" data-entity="mark_timeout" data-source-line="68" data-uid="ent0010" id="entity_mark_timeout"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="266.1094" x="1123.67" y="723.52"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="246.1094" x="1133.67" y="748.9888">MarkTimeoutSessionsHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="1198.3155" y="763.9653">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1261.9249" y="763.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="1265.7218" y="763.9653">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1254.5098" y="780.0317">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.8379" x="1167.4029" y="796.52">Marks</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1208.2408" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.9668" x="1212.6705" y="796.52">inactive</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1264.6373" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.6816" x="1269.067" y="796.52">sessions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1326.7486" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.8682" x="1331.1783" y="796.52">as</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9648" x="1190.546" y="813.0083">timed</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1229.5108" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5244" x="1233.9405" y="813.0083">out</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1256.4649" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.291" x="1260.8946" y="813.0083">based</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1301.1856" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.2881" x="1305.6153" y="813.0083">on</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.084" x="1187.1827" y="829.4966">EVENT_TIMEOUT_MS</text></g><!--entity get_session_products--><g class="entity" data-entity="get_session_products" data-source-line="68" data-uid="ent0011" id="entity_get_session_products"><rect fill="#85BBF0" height="135.418" style="stroke:#78A8D8;stroke-width:0.5;" width="247.6406" x="1727.91" y="715.28"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="227.6406" x="1737.91" y="740.7488">GetSessionProductsHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.5371" x="1805.8573" y="755.7253">[Query</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1844.3944" y="755.7253">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="1848.1913" y="755.7253">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1849.5155" y="771.7917">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5029" x="1824.4788" y="788.28">Handles</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.0488" x="1762.7059" y="804.7683">GetSessionProductsQuery,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.5225" x="1770.0238" y="821.2566">retrieves</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1828.5462" y="821.2566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5449" x="1832.9759" y="821.2566">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1883.5208" y="821.2566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="1887.9505" y="821.2566">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1913.182" y="821.2566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15.8252" x="1917.6117" y="821.2566">all</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1821.6385" y="837.7448">products</text></g><!--entity score_products--><g class="entity" data-entity="score_products" data-source-line="68" data-uid="ent0012" id="entity_score_products"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="219.7188" x="2319.87" y="723.52"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="181.8359" x="2338.8114" y="748.9888">ScoreProductsHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.5371" x="2383.8563" y="763.9653">[Query</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2422.3934" y="763.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="2426.1903" y="763.9653">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2427.5145" y="780.0317">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5029" x="2329.87" y="796.52">Handles</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2384.3729" y="796.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.7861" x="2388.8026" y="796.52">ScoreProductsQuery,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.5752" x="2336.8085" y="813.0083">batches</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2389.3837" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.6133" x="2393.8134" y="813.0083">products,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2458.4266" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="2462.8563" y="813.0083">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2488.0878" y="813.0083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.1328" x="2492.5175" y="813.0083">calls</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.4854" x="2366.4867" y="829.4966">scoreProductsFlow</text></g><!--entity update_ratings--><g class="entity" data-entity="update_ratings" data-source-line="68" data-uid="ent0013" id="entity_update_ratings"><rect fill="#85BBF0" height="135.418" style="stroke:#78A8D8;stroke-width:0.5;" width="268.7578" x="1424.35" y="715.28"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="248.7578" x="1434.35" y="740.7488">UpdateProductRatingsHandler</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.6094" x="1500.3197" y="755.7253">[Command</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1563.9291" y="755.7253">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.4121" x="1567.726" y="755.7253">Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1556.5141" y="771.7917">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5029" x="1531.4774" y="788.28">Handles</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.5742" x="1446.4418" y="804.7683">UpdateProductRatingsCommand,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.2158" x="1482.7201" y="821.2566">updates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1536.9359" y="821.2566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1541.3656" y="821.2566">products</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1601.5492" y="821.2566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="1605.9789" y="821.2566">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5723" x="1486.3227" y="837.7448">scores</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1529.8949" y="837.7448">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="1534.3246" y="837.7448">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1559.5561" y="837.7448">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.1494" x="1563.9857" y="837.7448">reasoning</text></g><!--entity ranking_service--><g class="entity" data-entity="ranking_service" data-source-line="68" data-uid="ent0014" id="entity_ranking_service"><rect fill="#85BBF0" height="151.9063" style="stroke:#78A8D8;stroke-width:0.5;" width="199.2588" x="2306.1" y="954.69"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="155.3047" x="2328.0771" y="980.1587">scoreProductsFlow</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="15.6387" x="2373.7753" y="995.1353">[AI</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2389.414" y="995.1353">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="44.4727" x="2393.2108" y="995.1353">Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2403.5146" y="1011.2017">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.7734" x="2337.5819" y="1027.69">Uses</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2369.3554" y="1027.69">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.8926" x="2373.7851" y="1027.69">Google</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2421.6776" y="1027.69">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.7695" x="2426.1073" y="1027.69">Gemini</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.8047" x="2316.1" y="1044.1783">(gemini-2.5-flash-lite)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2471.9047" y="1044.1783">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19.0244" x="2476.3344" y="1044.1783">via</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.0098" x="2321.8524" y="1060.6666">ai-sdk</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2365.8622" y="1060.6666">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13.8359" x="2370.2919" y="1060.6666">to</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2384.1278" y="1060.6666">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.4355" x="2388.5575" y="1060.6666">score</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2424.9931" y="1060.6666">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="2429.4228" y="1060.6666">products</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.291" x="2318.6977" y="1077.1548">based</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2358.9887" y="1077.1548">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.2881" x="2363.4184" y="1077.1548">on</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2380.7064" y="1077.1548">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3535" x="2385.1361" y="1077.1548">user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2414.4896" y="1077.1548">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.1807" x="2418.9193" y="1077.1548">profile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2463.1" y="1077.1548">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="2467.5297" y="1077.1548">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.3604" x="2373.5492" y="1093.6431">keywords</text></g><!--entity gift_session_entity--><g class="entity" data-entity="gift_session_entity" data-source-line="68" data-uid="ent0015" id="entity_gift_session_entity"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="200.1816" x="651.64" y="971.18"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="92.7891" x="705.3363" y="996.6488">GiftSession</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.0078" x="707.0443" y="1011.6253">[Domain</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="756.0521" y="1011.6253">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36.5684" x="759.849" y="1011.6253">Entity]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="749.516" y="1027.6917">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.9482" x="661.64" y="1044.18">Session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="712.5882" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.1406" x="717.0179" y="1044.18">state</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="750.1586" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="754.5882" y="1044.18">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="783.347" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.0449" x="787.7767" y="1044.18">eventId,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.1016" x="663.4173" y="1060.6683">chatId,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="709.5189" y="1060.6683">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5957" x="713.9486" y="1060.6683">status,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="759.5443" y="1060.6683">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0703" x="763.974" y="1060.6683">completion</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9443" x="665.2596" y="1077.1566">tracking,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="725.204" y="1077.1566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2314" x="729.6337" y="1077.1566">and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="754.8651" y="1077.1566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.1602" x="759.2948" y="1077.1566">gift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="782.4549" y="1077.1566">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3174" x="786.8846" y="1077.1566">context</text></g><!--entity product_entity--><g class="entity" data-entity="product_entity" data-source-line="68" data-uid="ent0016" id="entity_product_entity"><rect fill="#85BBF0" height="102.4414" style="stroke:#78A8D8;stroke-width:0.5;" width="204.6387" x="1749.41" y="979.43"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="63.4141" x="1820.0223" y="1004.8988">Product</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.0078" x="1807.0428" y="1019.8753">[Domain</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1856.0506" y="1019.8753">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36.5684" x="1859.8475" y="1019.8753">Entity]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1849.5145" y="1035.9417">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.9736" x="1759.41" y="1052.43">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1811.3836" y="1052.43">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.8096" x="1815.8133" y="1052.43">details</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1860.6229" y="1052.43">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="1865.0526" y="1052.43">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1893.8114" y="1052.43">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.8076" x="1898.2411" y="1052.43">image,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.7959" x="1774.8695" y="1068.9183">title,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1805.6654" y="1068.9183">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.5068" x="1810.0951" y="1068.9183">description,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1890.6019" y="1068.9183">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.5576" x="1895.0316" y="1068.9183">price</text></g><!--entity session_product_entity--><g class="entity" data-entity="session_product_entity" data-source-line="68" data-uid="ent0017" id="entity_session_product_entity"><rect fill="#85BBF0" height="118.9297" style="stroke:#78A8D8;stroke-width:0.5;" width="214.9814" x="2023.24" y="971.18"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="156.2031" x="2052.6292" y="996.6488">GiftSessionProduct</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.0078" x="2086.0442" y="1011.6253">[Domain</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2135.052" y="1011.6253">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36.5684" x="2138.8489" y="1011.6253">Entity]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2128.5159" y="1027.6917">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.6895" x="2033.24" y="1044.18">Join</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2058.9295" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.626" x="2063.3591" y="1044.18">table</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2096.9851" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.4297" x="2101.4148" y="1044.18">linking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2147.8445" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.6816" x="2152.2742" y="1044.18">sessions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2209.9558" y="1044.18">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13.8359" x="2214.3855" y="1044.18">to</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="2038.6677" y="1060.6683">products</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2098.8513" y="1060.6683">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.7588" x="2103.281" y="1060.6683">with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2132.0398" y="1060.6683">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.124" x="2136.4695" y="1060.6683">source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2181.5935" y="1060.6683">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.7705" x="2186.0232" y="1060.6683">event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.3486" x="2099.0564" y="1077.1566">metadata</text></g><!--entity database--><g class="entity" data-entity="database" data-source-line="72" data-uid="ent0018" id="entity_database"><path d="M1264.03,993.17 C1264.03,983.17 1365.7307,983.17 1365.7307,983.17 C1365.7307,983.17 1467.4314,983.17 1467.4314,993.17 L1467.4314,1068.1231 C1467.4314,1078.1231 1365.7307,1078.1231 1365.7307,1078.1231 C1365.7307,1078.1231 1264.03,1078.1231 1264.03,1068.1231 L1264.03,993.17" fill="#85BBF0" style="stroke:#78A8D8;stroke-width:0.5;"/><path d="M1264.03,993.17 C1264.03,1003.17 1365.7307,1003.17 1365.7307,1003.17 C1365.7307,1003.17 1467.4314,1003.17 1467.4314,993.17" fill="none" style="stroke:#78A8D8;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="94.3906" x="1318.5354" y="1022.6387">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61.5176" x="1334.9719" y="1037.6153">[Database]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1363.5158" y="1053.6817">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5654" x="1274.03" y="1070.17">TypeORM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1338.5954" y="1070.17">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.3555" x="1343.0251" y="1070.17">persistence</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1420.3806" y="1070.17">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6211" x="1424.8103" y="1070.17">layer</text></g><!--entity rabbitmq_in_context--><g class="entity" data-entity="rabbitmq_in_context" data-source-line="80" data-uid="ent0019" id="entity_rabbitmq_in_context"><rect fill="#CCCCCC" height="102.4414" style="stroke:#BFBFBF;stroke-width:0.5;" width="201.4531" x="7" y="244.68"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.0391" x="67.207" y="270.1487">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.9531" x="58.0039" y="285.1253">[Message</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="111.957" y="285.1253">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41.6953" x="115.7539" y="285.1253">Broker]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="105.5117" y="301.1917">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.4531" x="17" y="317.68">GiftContextInitializedEvent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.7881" x="86.8325" y="334.1683">queue</text></g><!--entity rabbitmq_in_product--><g class="entity" data-entity="rabbitmq_in_product" data-source-line="80" data-uid="ent0020" id="entity_rabbitmq_in_product"><rect fill="#CCCCCC" height="85.9531" style="stroke:#BFBFBF;stroke-width:0.5;" width="207.7627" x="1340.85" y="7"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.0391" x="1404.2118" y="32.4688">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.9531" x="1395.0087" y="47.4453">[Message</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1448.9618" y="47.4453">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41.6953" x="1452.7587" y="47.4453">Broker]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1442.5165" y="63.5117">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.5449" x="1350.85" y="80">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1492.3949" y="80">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.7881" x="1496.8246" y="80">queue</text></g><!--entity rabbitmq_out--><g class="entity" data-entity="rabbitmq_out" data-source-line="80" data-uid="ent0021" id="entity_rabbitmq_out"><rect fill="#CCCCCC" height="85.9531" style="stroke:#BFBFBF;stroke-width:0.5;" width="167.834" x="2574.81" y="740.01"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.0391" x="2618.2075" y="765.4788">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.9531" x="2609.0043" y="780.4553">[Message</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2662.9575" y="780.4553">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41.6953" x="2666.7543" y="780.4553">Broker]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2656.5121" y="796.5217">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.6162" x="2584.81" y="813.01">GiftReadyEvent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2686.4262" y="813.01">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.7881" x="2690.8559" y="813.01">queue</text></g><!--link rabbitmq_in_context to context_handler--><g class="link" data-entity-1="rabbitmq_in_context" data-entity-2="context_handler" data-source-line="1773" data-uid="lnk22" id="link_rabbitmq_in_context_context_handler"><path d="M161.9,347.51 C201.6,384.59 250.0339,429.829 293.3039,470.249" fill="none" id="rabbitmq_in_context-to-context_handler" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="299.15,475.71,295.3518,468.0567,291.256,472.4412,299.15,475.71" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.2129" x="296.2175" y="421.4616">Consumes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.4727" x="263.78" y="435.5944">[AMQP</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="302.2527" y="435.5944">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="86.8184" x="306.0495" y="435.5944">@EventPattern]</text></g><!--link context_handler to init_context--><g class="link" data-entity-1="context_handler" data-entity-2="init_context" data-source-line="1773" data-uid="lnk23" id="link_context_handler_init_context"><path d="M369.31,611.65 C368.57,646.75 367.848,681.3418 367.138,715.1418" fill="none" id="context_handler-to-init_context" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="366.97,723.14,370.1373,715.2048,364.1387,715.0788,366.97,723.14" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.2754" x="386.5216" y="660.8816">Executes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="87.9785" x="369.67" y="675.0144">[CommandBus]</text></g><!--link rabbitmq_in_product to product_handler--><g class="link" data-entity-1="rabbitmq_in_product" data-entity-2="product_handler" data-source-line="1773" data-uid="lnk24" id="link_rabbitmq_in_product_product_handler"><path d="M1444.73,93.19 C1444.73,127.96 1444.73,170.13 1444.73,211.74" fill="none" id="rabbitmq_in_product-to-product_handler" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1444.73,219.74,1447.73,211.74,1441.73,211.74,1444.73,219.74" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.2129" x="1478.1675" y="135.5516">Consumes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.4727" x="1445.73" y="149.6844">[AMQP</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="1484.2027" y="149.6844">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="86.8184" x="1487.9995" y="149.6844">@EventPattern]</text></g><!--link product_handler to create_session--><g class="link" data-entity-1="product_handler" data-entity-2="create_session" data-source-line="1773" data-uid="lnk25" id="link_product_handler_create_session"><path d="M1338.29,327.38 C1242.4,357.36 1099.58,408.42 986.73,475.86 C863.65,549.4 746.4936,659.5 680.9436,725.59" fill="none" id="product_handler-to-create_session" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="675.31,731.27,683.0736,727.7026,678.8136,723.4774,675.31,731.27" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="10.8809" x="987.73" y="541.1716">1.</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="998.6109" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="46.7695" x="1002.5659" y="541.1716">Creates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1049.3355" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="46.834" x="1053.2905" y="541.1716">session</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="87.9785" x="999.938" y="555.3044">[CommandBus]</text></g><!--link product_handler to add_products--><g class="link" data-entity-1="product_handler" data-entity-2="add_products" data-source-line="1773" data-uid="lnk26" id="link_product_handler_add_products"><path d="M1551.18,313.96 C1665.2,336.25 1847.43,383.81 1978.73,475.86 C2063.5,535.29 2101.62,546.26 2142.73,641.28 C2154.91,669.43 2156.8397,695.815 2155.1397,723.535" fill="none" id="product_handler-to-add_products" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2154.65,731.52,2158.1341,723.7186,2152.1453,723.3514,2154.65,731.52" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="10.8809" x="2128.7" y="541.1716">2.</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="2139.5809" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="31.5234" x="2143.5359" y="541.1716">Adds</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="2175.0594" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.9375" x="2179.0145" y="541.1716">products</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="87.9785" x="2137.3367" y="555.3044">[CommandBus]</text></g><!--link product_handler to increment_completion--><g class="link" data-entity-1="product_handler" data-entity-2="increment_completion" data-source-line="1773" data-uid="lnk27" id="link_product_handler_increment_completion"><path d="M1364.2,372.17 C1260.56,469.03 1088.5147,629.8375 994.3247,717.8675" fill="none" id="product_handler-to-increment_completion" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="988.48,723.33,996.3732,720.0593,992.2763,715.6757,988.48,723.33" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="10.8809" x="1246.29" y="541.1716">3.</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1257.1709" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.9297" x="1261.1259" y="541.1716">Increments</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1330.0556" y="541.1716">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="47.1621" x="1334.0107" y="541.1716">counter</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="87.9785" x="1269.7421" y="555.3044">[CommandBus]</text></g><!--link product_handler to emit_ready--><g class="link" data-entity-1="product_handler" data-entity-2="emit_ready" data-source-line="1773" data-uid="lnk28" id="link_product_handler_emit_ready"><path d="M1551.25,367.63 C1606.65,404.41 1666.905,444.4253 1719.445,479.3053" fill="none" id="product_handler-to-emit_ready" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1726.11,483.73,1721.1043,476.8059,1717.7858,481.8047,1726.11,483.73" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="10.8809" x="1663.87" y="414.4616">4.</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1674.7509" y="414.4616">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34.3945" x="1678.7059" y="414.4616">Emits</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1713.1005" y="414.4616">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="33.1465" x="1717.0555" y="414.4616">when</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="1750.202" y="414.4616">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56.4668" x="1754.1571" y="414.4616">complete</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84.0762" x="1695.2089" y="428.5944">[CommandBus</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="76.5645" x="1698.9647" y="442.7272">(conditional)]</text></g><!--link create_session to gift_session_entity--><g class="link" data-entity-1="create_session" data-entity-2="gift_session_entity" data-source-line="1773" data-uid="lnk29" id="link_create_session_gift_session_entity"><path d="M612.78,834.52 C607.82,862.42 606.33,896.94 619.73,924.69 C628.12,942.1 635.0716,952.0846 649.5116,965.3646" fill="none" id="create_session-to-gift_session_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="655.4,970.78,651.5423,963.1564,647.4808,967.5728,655.4,970.78" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="87.832" x="620.73" y="907.2916">Creates/reads</text></g><!--link create_session to database--><g class="link" data-entity-1="create_session" data-entity-2="database" data-source-line="1773" data-uid="lnk30" id="link_create_session_database"><path d="M706.26,834.62 C719.06,840.98 732.47,846.65 745.73,850.69 C824.85,874.81 1044.59,840.22 1116.73,880.69 C1137.81,892.53 1130.17,909.19 1148.73,924.69 C1182.52,952.94 1217.8908,972.4705 1256.4408,989.4805" fill="none" id="create_session-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1263.76,992.71,1257.6519,986.7358,1255.2298,992.2251,1263.76,992.71" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1156.8198" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1149.73" y="914.4244">[TypeORM]</text></g><!--link init_context to gift_session_entity--><g class="link" data-entity-1="init_context" data-entity-2="gift_session_entity" data-source-line="1773" data-uid="lnk31" id="link_init_context_gift_session_entity"><path d="M410.37,842.67 C433.73,870.35 464.21,902.17 496.73,924.69 C543.66,957.2 594.6601,979.5261 643.8101,996.9561" fill="none" id="init_context-to-gift_session_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="651.35,999.63,644.8128,994.1287,642.8074,999.7836,651.35,999.63" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="103.0723" x="497.73" y="900.2916">Creates/updates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="45.7793" x="526.3765" y="914.4244">context</text></g><!--link init_context to database--><g class="link" data-entity-1="init_context" data-entity-2="database" data-source-line="1773" data-uid="lnk32" id="link_init_context_database"><path d="M482.22,842.89 C490.73,845.89 499.28,848.54 507.73,850.69 C616.46,878.38 913.3,826.83 1011.73,880.69 C1032.94,892.3 1024.17,910.48 1043.73,924.69 C1108.77,971.97 1188.3823,996.9918 1255.7323,1011.6218" fill="none" id="init_context-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1263.55,1013.32,1256.3691,1008.6902,1255.0955,1014.5534,1263.55,1013.32" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1051.8198" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1044.73" y="914.4244">[TypeORM]</text></g><!--link add_products to product_entity--><g class="link" data-entity-1="add_products" data-entity-2="product_entity" data-source-line="1773" data-uid="lnk33" id="link_add_products_product_entity"><path d="M2126.24,834.57 C2110.7,869.26 2090.01,911.35 2075.73,924.69 C2050.99,947.8 2036.51,940.62 2005.73,954.69 C1988.96,962.36 1978.49,967.2436 1961.33,975.4936" fill="none" id="add_products-to-product_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1954.12,978.96,1962.6299,978.1974,1960.0301,972.7899,1954.12,978.96" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="46.7695" x="2103.6" y="907.2916">Creates</text></g><!--link add_products to session_product_entity--><g class="link" data-entity-1="add_products" data-entity-2="session_product_entity" data-source-line="1773" data-uid="lnk34" id="link_add_products_session_product_entity"><path d="M2159.97,834.58 C2164.83,861.43 2168.3,894.92 2163.73,924.69 C2161.39,939.89 2159.6127,948.2638 2155.0527,963.0838" fill="none" id="add_products-to-session_product_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2152.7,970.73,2157.92,963.966,2152.1853,962.2015,2152.7,970.73" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="46.7695" x="2166.86" y="907.2916">Creates</text></g><!--link add_products to database--><g class="link" data-entity-1="add_products" data-entity-2="database" data-source-line="1773" data-uid="lnk35" id="link_add_products_database"><path d="M2030.01,834.62 C1976.31,857.75 1924.36,880.18 1923.73,880.69 C1904.85,895.8 1912.17,911.77 1891.73,924.69 C1830.57,963.35 1802.72,940.77 1731.73,954.69 C1642.46,972.2 1548.9826,991.3918 1475.6226,1006.6418" fill="none" id="add_products-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1467.79,1008.27,1476.2331,1009.579,1475.012,1003.7046,1467.79,1008.27" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1931.8198" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1924.73" y="914.4244">[TypeORM]</text></g><!--link increment_completion to gift_session_entity--><g class="link" data-entity-1="increment_completion" data-entity-2="gift_session_entity" data-source-line="1773" data-uid="lnk36" id="link_increment_completion_gift_session_entity"><path d="M782.45,842.81 C769.12,853.54 757.39,866.09 748.73,880.69 C732.89,907.39 731.4351,933.8695 735.5551,962.8795" fill="none" id="increment_completion-to-gift_session_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="736.68,970.8,738.5253,962.4577,732.5849,963.3013,736.68,970.8" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50.4727" x="749.73" y="900.2916">Updates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="800.2027" y="900.2916">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.8828" x="804.1577" y="900.2916">completion</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34.6758" x="794.0474" y="914.4244">count</text></g><!--link increment_completion to database--><g class="link" data-entity-1="increment_completion" data-entity-2="database" data-source-line="1773" data-uid="lnk37" id="link_increment_completion_database"><path d="M1081.49,842.82 C1089.66,845.56 1097.78,848.2 1105.73,850.69 C1156.54,866.63 1177.7,850.73 1221.73,880.69 C1241.72,894.3 1237.72,906.57 1253.73,924.69 C1271.45,944.77 1286.6241,959.8528 1305.6841,977.3328" fill="none" id="increment_completion-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1311.58,982.74,1307.7118,975.1218,1303.6564,979.5438,1311.58,982.74" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1261.8198" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1254.73" y="914.4244">[TypeORM]</text></g><!--link emit_ready to get_session_products--><g class="link" data-entity-1="emit_ready" data-entity-2="get_session_products" data-source-line="1773" data-uid="lnk38" id="link_emit_ready_get_session_products"><path d="M1807.84,603.25 C1806.3,628.69 1806.44,658.67 1811.73,685.28 C1813.67,695.08 1813.9682,697.5858 1817.4082,707.3358" fill="none" id="emit_ready-to-get_session_products" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1820.07,714.88,1820.2373,706.3376,1814.5792,708.3339,1820.07,714.88" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.2754" x="1865.2622" y="653.8816">Executes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="159.3398" x="1812.73" y="668.0144">GetSessionProductsQuery</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62.9063" x="1860.9468" y="682.1472">[QueryBus]</text></g><!--link get_session_products to gift_session_entity--><g class="link" data-entity-1="get_session_products" data-entity-2="gift_session_entity" data-source-line="1773" data-uid="lnk39" id="link_get_session_products_gift_session_entity"><path d="M1727.43,844.68 C1721.83,846.82 1716.24,848.83 1710.73,850.69 C1649.6,871.29 1622.85,845.61 1568.73,880.69 C1548.44,893.85 1557.68,912.63 1536.73,924.69 C1480.58,957.03 1311,946.51 1246.73,954.69 C1109.64,972.15 959.7868,995.5589 859.9268,1011.7589" fill="none" id="get_session_products-to-gift_session_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="852.03,1013.04,860.4072,1014.7202,859.4464,1008.7976,852.03,1013.04" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.1016" x="1569.73" y="907.2916">Reads</text></g><!--link get_session_products to session_product_entity--><g class="link" data-entity-1="get_session_products" data-entity-2="session_product_entity" data-source-line="1773" data-uid="lnk40" id="link_get_session_products_session_product_entity"><path d="M1960.14,851.04 C1972.91,860.45 1985.41,870.43 1996.73,880.69 C2015.44,897.67 2016.1,905.67 2032.73,924.69 C2046.02,939.9 2055.2592,950.1244 2069.1292,965.0244" fill="none" id="get_session_products-to-session_product_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2074.58,970.88,2071.325,962.9803,2066.9333,967.0684,2074.58,970.88" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.1016" x="2033.73" y="907.2916">Reads</text></g><!--link get_session_products to product_entity--><g class="link" data-entity-1="get_session_products" data-entity-2="product_entity" data-source-line="1773" data-uid="lnk41" id="link_get_session_products_product_entity"><path d="M1849.38,851.09 C1849.11,861.02 1848.88,871.12 1848.73,880.69 C1848.22,913.41 1848.7114,942.1636 1849.5714,970.9836" fill="none" id="get_session_products-to-product_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1849.81,978.98,1852.57,970.8941,1846.5727,971.073,1849.81,978.98" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37.1016" x="1849.73" y="907.2916">Reads</text></g><!--link get_session_products to database--><g class="link" data-entity-1="get_session_products" data-entity-2="database" data-source-line="1773" data-uid="lnk42" id="link_get_session_products_database"><path d="M1727.44,842.82 C1685,862.92 1647.98,880.48 1647.73,880.69 C1629.11,896.13 1634.68,909.68 1615.73,924.69 C1572.27,959.1 1523.4481,981.4093 1475.2381,998.3393" fill="none" id="get_session_products-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1467.69,1000.99,1476.2321,1001.1699,1474.2441,995.5088,1467.69,1000.99" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="47.9707" x="1656.3179" y="900.2916">Queries</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1648.73" y="914.4244">[TypeORM]</text></g><!--link emit_ready to score_products--><g class="link" data-entity-1="emit_ready" data-entity-2="score_products" data-source-line="1773" data-uid="lnk43" id="link_emit_ready_score_products"><path d="M1961.28,589.59 C2059.33,621.22 2190.47,666.47 2302.73,715.28 C2308.44,717.76 2306.995,716.9974 2312.825,719.7274" fill="none" id="emit_ready-to-score_products" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2320.07,723.12,2314.0972,717.0105,2311.5528,722.4443,2320.07,723.12" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.2754" x="2260.9355" y="653.8816">Executes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="124.9863" x="2225.58" y="668.0144">ScoreProductsQuery</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62.9063" x="2256.62" y="682.1472">[QueryBus]</text></g><!--link score_products to ranking_service--><g class="link" data-entity-1="score_products" data-entity-2="ranking_service" data-source-line="1773" data-uid="lnk44" id="link_score_products_ranking_service"><path d="M2423.98,842.83 C2420.71,876.33 2417.3467,910.6778 2413.8467,946.5578" fill="none" id="score_products-to-ranking_service" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2413.07,954.52,2416.8325,946.8491,2410.8609,946.2665,2413.07,954.52" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="40.1777" x="2429.6251" y="893.2916">Scores</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="2469.8029" y="893.2916">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.9375" x="2473.7579" y="893.2916">products</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="2528.6954" y="893.2916">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="11.7832" x="2532.6505" y="893.2916">in</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="47.9531" x="2463.0529" y="907.4244">batches</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="15.6387" x="2420.88" y="921.5572">[AI</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2436.5187" y="921.5572">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="16.3066" x="2440.3155" y="921.5572">via</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2456.6222" y="921.5572">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92.7598" x="2460.4191" y="921.5572">generateObject]</text></g><!--link emit_ready to update_ratings--><g class="link" data-entity-1="emit_ready" data-entity-2="update_ratings" data-source-line="1773" data-uid="lnk45" id="link_emit_ready_update_ratings"><path d="M1668.26,587.83 C1641.5,601.33 1615.99,618.8 1596.73,641.28 C1579.19,661.74 1571.2519,681.688 1566.1119,707.168" fill="none" id="emit_ready-to-update_ratings" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1564.53,715.01,1569.0527,707.7612,1563.1712,706.5747,1564.53,715.01" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54.2754" x="1670.7437" y="653.8816">Executes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="200.3027" x="1597.73" y="668.0144">UpdateProductRatingsCommand</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="87.9785" x="1653.8921" y="682.1472">[CommandBus]</text></g><!--link update_ratings to product_entity--><g class="link" data-entity-1="update_ratings" data-entity-2="product_entity" data-source-line="1773" data-uid="lnk46" id="link_update_ratings_product_entity"><path d="M1680.57,851.01 C1694.56,860.35 1708.26,870.33 1720.73,880.69 C1755.68,909.76 1784.4184,942.2083 1808.8984,972.8683" fill="none" id="update_ratings-to-product_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1813.89,979.12,1811.2428,970.9964,1806.554,974.7401,1813.89,979.12" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50.4727" x="1765.17" y="907.2916">Updates</text></g><!--link update_ratings to database--><g class="link" data-entity-1="update_ratings" data-entity-2="database" data-source-line="1773" data-uid="lnk47" id="link_update_ratings_database"><path d="M1493.23,850.95 C1484.41,860.72 1475.68,870.82 1467.73,880.69 C1441.39,913.41 1419.0368,945.9804 1399.5568,975.9804" fill="none" id="update_ratings-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1395.2,982.69,1402.0729,977.6142,1397.0407,974.3466,1395.2,982.69" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1475.8198" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1468.73" y="914.4244">[TypeORM]</text></g><!--link emit_ready to rabbitmq_out--><g class="link" data-entity-1="emit_ready" data-entity-2="rabbitmq_out" data-source-line="1773" data-uid="lnk48" id="link_emit_ready_rabbitmq_out"><path d="M1961.26,581.53 C2007,592.19 2057.77,603.13 2104.73,611.28 C2216.73,630.71 2248.27,614.43 2358.73,641.28 C2449.61,663.37 2472.21,673.17 2555.73,715.28 C2569.8,722.37 2577.5927,726.6576 2591.1627,735.2576" fill="none" id="emit_ready-to-rabbitmq_out" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="2597.92,739.54,2592.7686,732.7236,2589.5568,737.7915,2597.92,739.54" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.4785" x="2535.8901" y="660.8816">Publishes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38.4727" x="2494.52" y="675.0144">[AMQP</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.7969" x="2532.9927" y="675.0144">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99.9492" x="2536.7895" y="675.0144">ClientProxy.emit]</text></g><!--link mark_timeout to gift_session_entity--><g class="link" data-entity-1="mark_timeout" data-entity-2="gift_session_entity" data-source-line="1773" data-uid="lnk49" id="link_mark_timeout_gift_session_entity"><path d="M1129.49,842.95 C1121.53,845.78 1113.56,848.39 1105.73,850.69 C1022.85,875.02 988.68,837.78 913.73,880.69 C891.8,893.25 895.51,906.75 877.73,924.69 C862.09,940.46 850.4083,951.2157 833.2083,965.7057" fill="none" id="mark_timeout-to-gift_session_entity" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="827.09,970.86,835.1411,968.0001,831.2754,963.4114,827.09,970.86" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50.4727" x="914.73" y="907.2916">Updates</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.9551" x="965.2027" y="907.2916">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="38.2324" x="969.1577" y="907.2916">status</text></g><!--link mark_timeout to database--><g class="link" data-entity-1="mark_timeout" data-entity-2="database" data-source-line="1773" data-uid="lnk50" id="link_mark_timeout_database"><path d="M1304.43,842.7 C1312.72,854.78 1320.62,867.76 1326.73,880.69 C1342.08,913.2 1350.5031,944.825 1356.5231,974.965" fill="none" id="mark_timeout-to-database" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1358.09,982.81,1359.465,974.3774,1353.5812,975.5526,1358.09,982.81" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.9668" x="1351.3898" y="900.2916">Persists</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.1465" x="1344.3" y="914.4244">[TypeORM]</text></g><g class="legend" data-source-line="1569"><rect fill="none" height="16.4883" style="stroke:none;stroke-width:1;" width="167.2891" x="2550.3549" y="1146.6"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52.2539" x="2550.3549" y="1160.1352">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2607.2231" y="1160.1352">&#160;</text><rect fill="#85BBF0" height="16.4883" style="stroke:none;stroke-width:1;" width="167.2891" x="2550.3549" y="1163.0883"/><text fill="#78A8D8" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="2554.7846" y="1176.6234">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2563.2133" y="1176.6234">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.665" x="2572.0727" y="1176.6234">component</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2653.1674" y="1176.6234">&#160;</text><rect fill="#CCCCCC" height="16.4883" style="stroke:none;stroke-width:1;" width="167.2891" x="2550.3549" y="1179.5766"/><text fill="#BFBFBF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="2554.7846" y="1193.1117">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2563.2133" y="1193.1117">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.7119" x="2572.0727" y="1193.1117">external component</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2713.2143" y="1193.1117">&#160;</text><rect fill="none" height="16.4883" style="stroke:none;stroke-width:1;" width="167.2891" x="2550.3549" y="1196.0648"/><text fill="#444444" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.4287" x="2554.7846" y="1209.6">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2563.2133" y="1209.6">&#160;</text><text fill="#444444" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.4941" x="2572.0727" y="1209.6">container boundary</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="2708.9965" y="1209.6">&#160;</text><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2717.644" y1="1146.6" y2="1146.6"/><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2717.644" y1="1163.0883" y2="1163.0883"/><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2717.644" y1="1179.5766" y2="1179.5766"/><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2717.644" y1="1196.0648" y2="1196.0648"/><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2717.644" y1="1212.5531" y2="1212.5531"/><line style="stroke:none;stroke-width:1;" x1="2550.3549" x2="2550.3549" y1="1146.6" y2="1212.5531"/><line style="stroke:none;stroke-width:1;" x1="2717.644" x2="2717.644" y1="1146.6" y2="1212.5531"/></g><!--SRC=[dLV9SkCs4BthApg-HAhIKfdCN5ALL6nPu_6KvKMIaoCB8c49CKbe0D2oaig_fni0AMvQ9YUH8BhnyFhreXz46iPPn65jp4R_CXefjXskX5bdoqnp5ShKyDGCGvcCDZ5BJPR40ssYM2n7uu-3HrfwdjwD4gODLxWKZ6MoaIdPR71lfpD63qoaN0LNCaiZfdPTnHLBNqMwwiF5B7-6gGYLn2FVHCYXUy-r-JhlNVJWdmv0uRHh0RsROCtIAEOAFTo85pDsgxUfC8B5ucyUVN7VBt33v0qDeRI0ktMMS0tjfdP_7o8UynKpkCr8s7yksI2g1BrUz2e8Dqf6MLX6-EXMFdCJhiz4LZNnYAJ25ssK1QMvraAc42hE33xqmHyCsaZ5LhmFw1SmS9kOqmP0mv2OjdYhf98F7dYNXCCkpDrx1P-zSGMotQeH7704hqhG-BlGHiCBVQ8RtDQf4iXgu2EAhbf9FdxwtiGYo3QH1RD2U_2EOOjg1X8pCVGYOcw9UUMxhLIHha5YKHHu8ZNwlumY7mgza6VnCKVs4K7k0qHQy661Q9af5BWb119k629c3Lum8Wa-1VlmsSlwPGzaN7myHPAtqxaSUEG0q4A6BA5A4wPUzw5Z-wsmNVCK8aHMGyaJZ1v6FzeLUNoPHXDSfV3DwCDnN3Dkb40SUxRwe4DBdrdp1Du4WylRFc3C4AA6hlq8l_qAdtfEtGJ1fR4zpkP93INTAp0YuJ8ZZKtnTU7UF8lwECYfvKMaB3JYZUS4QMA8l4Q0dc39D3sbCFbZShy85hVJoSFp8fZEQs1MtEHPLbRP3S_1v68h0NZAkDgL4Rb7l7R3ocxjWofuBSA9Ts9nNF1SWsLvBGEQqyBtOAaOU1XBHiMh75nRa127Tc7Ezt-EvRQ6o2LoWAKE2nOXUhOBtcBcbey7BeVMPkctzuk2KQIhor4dGdA8-jOoRQsQld45lcVXaSrRKGcvXRdRGM_FcY8dvGhBq0tADnM0gg3VmOVXfy5BpFHw40l3UrR-J0nqz4eTo6c_m5aexjp2HYMnq1uk2BFppTEBYD1TomHxDKpiPrlDl82qOLG9Y1nVoliGhfdzfMyPngYbrRYGbwlnWMPP0FBijOBntx0puqGH-rY9nFOwt1DpQjewL6AJDqGYlIRrQlQrCd4CmrU9huOjaUnOkC6bA0aOfPgE3jRwCgRhPPVMAQ9qIQdDIl7vqvqztt-WvyLkmnzcKzXWBSJ6obDq7RCTghtN-PS6BUylcBoJE9TBOP9lWKXB7NPcLwTFjh0XRAGEhfHyTHbpP1o2RndFYCl3f_YhdpobPRGvvTsLxjFWzqsWyDZv4To27ySmeMCxB-crsEZEZCVjL3Ndp7msipazVNg4twtZHsQmEQLu5FbgcDL6dCax3pFZdFWYT9LHgZQG57Gsvycpa3JC6aFUJqF8XpUzBm4LLAsEQYFIXo7WbBGleUSvEJ3Y_3o4ohHYXvFpF5R6aOz3cDZPm0ul-IXJTGGKhKZGoIpkEQtaVIHN2wQqgn2ZF4LR15HdjhtKUgv7136_HDsoN0TSbkjIvdkZggIE7vRtjttrRNeuwz1gq1lLqv_NklbWoJrcT2OJRI9gP-IvOABeKbPUHrsTXQ8il0C3NfxsXsQsOhRQwxlTK_lTPYL9jTiTZC5fq_zXKgADRYNu2TOQysV1LtEkRA6gRjuSpEPXuq-PdqxzX4QpregddFvRFop_ug5fWTaOIWkOHsRCrk9LzzJWsAlrmFRlbcMjapvcorZeTQc3Z6D17KJ9zzsG3BsFwf-duudbni1MmvDuE_Cl3ty6TvERoVrrj_SV]--></g></svg>