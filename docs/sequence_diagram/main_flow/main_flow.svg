<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="6570px" preserveAspectRatio="none" style="width:3348px;height:6570px;background:#FFFFFF;" version="1.1" viewBox="0 0 3348 6570" width="3348px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="530" x="1405.25" y="27.9951">AI Present Finder - Main Flow (Complete with Commands &amp; Events)</text><rect fill="#ADD8E6" height="6521.6016" style="stroke:#181818;stroke-width:0.5;" width="258" x="2027.5" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="2083.5" y="55.3638">Fetch Microservices</text><rect fill="#FFFFFF" height="110.9648" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="192.8594"/><rect fill="#FFFFFF" height="248.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="416.9219"/><rect fill="#FFFFFF" height="242.7617" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="779.5156"/><rect fill="#FFFFFF" height="5360.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="1116.375"/><rect fill="#FFFFFF" height="5107.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="571" y="1369.375"/><rect fill="#FFFFFF" height="4883.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="1593.1094"/><rect fill="#FFFFFF" height="257.8945" style="stroke:#181818;stroke-width:1.0;" width="10" x="581" y="3492.8125"/><rect fill="#FFFFFF" height="207.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="581" y="6249.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="343.5234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="488.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="546.4531"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="923.1797"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1244.9063"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1482.7734"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1706.5078"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2075.3672"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2249.9688"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2533.1641"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2749.0938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2995.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="3228.3516"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="3651.6094"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="4142.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="4519.3984"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5085.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5201.4766"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5317.0078"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5476.4766"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5635.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5795.4141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6057.7422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6173.2734"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6339.0703"/><rect fill="#FFFFFF" height="1813.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196" y="2163.5703"/><rect fill="#FFFFFF" height="2245.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1811.0391"/><rect fill="#FFFFFF" height="4487.6328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1706" y="1988.9688"/><rect fill="#FFFFFF" height="1739.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1711" y="3141.9531"/><rect fill="#FFFFFF" height="1291.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="2047" y="4548.5313"/><rect fill="#FFFFFF" height="1148.7422" style="stroke:#181818;stroke-width:1.0;" width="10" x="2108" y="4690.8047"/><rect fill="#FFFFFF" height="1089.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2172.5" y="4749.875"/><rect fill="#FFFFFF" height="1030.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="2241.5" y="4808.9453"/><rect fill="#FFFFFF" height="1816.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2728.5" y="4433"/><rect fill="#FFFFFF" height="346.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="4999.5469"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5405.2109"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5564.6797"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5724.1484"/><rect fill="none" height="1017.5234" style="stroke:#000000;stroke-width:1.5;" width="1119" x="95" y="726.1172"/><rect fill="none" height="472.0625" style="stroke:#000000;stroke-width:1.5;" width="943" x="261" y="1047.8438"/><rect fill="none" height="536.4609" style="stroke:#000000;stroke-width:1.5;" width="1475" x="513" y="1757.6406"/><rect fill="none" height="401.7969" style="stroke:#000000;stroke-width:1.5;" width="1455" x="523" y="1885.3047"/><rect fill="none" height="681.1875" style="stroke:#000000;stroke-width:1.5;" width="1186" x="261" y="2351.2344"/><rect fill="none" height="923.4531" style="stroke:#000000;stroke-width:1.5;" width="1961" x="91" y="3046.4219"/><rect fill="none" height="344.9922" style="stroke:#000000;stroke-width:1.5;" width="943.5" x="101" y="3424.2813"/><rect fill="none" height="609.1406" style="stroke:#000000;stroke-width:1.5;" width="2053" x="937.5" y="4265.0703"/><rect fill="none" height="303.6797" style="stroke:#000000;stroke-width:1.5;" width="803" x="1635" y="4563.5313"/><rect fill="none" height="901.2031" style="stroke:#000000;stroke-width:1.5;" width="2175" x="937.5" y="4931.3438"/><rect fill="none" height="541.5234" style="stroke:#000000;stroke-width:1.5;" width="3321.5" x="10" y="5927.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="290" x2="290" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="571" x2="571" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="881.5" x2="881.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="990.5" x2="990.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1201" x2="1201" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1465" x2="1465" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1711" x2="1711" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2051.5" x2="2051.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2112.5" x2="2112.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2177.5" x2="2177.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2246.5" x2="2246.5" y1="118.5938" y2="6485.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2733.5" x2="2733.5" y1="118.5938" y2="6485.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="271" y="115.292">User</text><ellipse cx="290" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M290,58.7969 L290,85.7969 M277,66.7969 L303,66.7969 M290,85.7969 L277,100.7969 M290,85.7969 L303,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="271" y="6497.5967">User</text><ellipse cx="290" cy="6509.3984" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M290,6517.3984 L290,6544.3984 M277,6525.3984 L303,6525.3984 M290,6544.3984 L277,6559.3984 M290,6544.3984 L303,6559.3984 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="533" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="540" y="107.292">REST API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="533" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="540" y="6504.5967">REST API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="826.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="833.5" y="107.292">Google OAuth</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="826.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="833.5" y="6504.5967">Google OAuth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="947.5" y="115.292">PostgreSQL</text><path d="M973,66.2969 C973,56.2969 991,56.2969 991,56.2969 C991,56.2969 1009,56.2969 1009,66.2969 L1009,92.2969 C1009,102.2969 991,102.2969 991,102.2969 C991,102.2969 973,102.2969 973,92.2969 L973,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M973,66.2969 C973,76.2969 991,76.2969 991,76.2969 C991,76.2969 1009,76.2969 1009,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="947.5" y="6497.5967">PostgreSQL</text><path d="M973,6510.8984 C973,6500.8984 991,6500.8984 991,6500.8984 C991,6500.8984 1009,6500.8984 1009,6510.8984 L1009,6536.8984 C1009,6546.8984 991,6546.8984 991,6546.8984 C991,6546.8984 973,6546.8984 973,6536.8984 L973,6510.8984 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M973,6510.8984 C973,6520.8984 991,6520.8984 991,6520.8984 C991,6520.8984 1009,6520.8984 1009,6510.8984 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1151" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1158" y="107.292">Chat Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1151" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1158" y="6504.5967">Chat Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1404" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1411" y="107.292">Stalking Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1404" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1411" y="6504.5967">Stalking Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1645" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1652" y="107.292">Gift Ideas Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1645" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1652" y="6504.5967">Gift Ideas Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="2031.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="2038.5" y="107.292">OLX</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="2031.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="2038.5" y="6504.5967">OLX</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="2082.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="2089.5" y="107.292">Allegro</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="2082.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="2089.5" y="6504.5967">Allegro</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="2153.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="2160.5" y="107.292">eBay</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="2153.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="2160.5" y="6504.5967">eBay</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2211.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2218.5" y="107.292">Amazon</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2211.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2218.5" y="6504.5967">Amazon</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2664.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2671.5" y="107.292">Reranking Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2664.5" y="6484.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2671.5" y="6504.5967">Reranking Service</text><rect fill="#FFFFFF" height="110.9648" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="192.8594"/><rect fill="#FFFFFF" height="248.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="416.9219"/><rect fill="#FFFFFF" height="242.7617" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="779.5156"/><rect fill="#FFFFFF" height="5360.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="1116.375"/><rect fill="#FFFFFF" height="5107.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="571" y="1369.375"/><rect fill="#FFFFFF" height="4883.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="576" y="1593.1094"/><rect fill="#FFFFFF" height="257.8945" style="stroke:#181818;stroke-width:1.0;" width="10" x="581" y="3492.8125"/><rect fill="#FFFFFF" height="207.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="581" y="6249.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="343.5234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="488.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="546.4531"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="923.1797"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1244.9063"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1482.7734"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="1706.5078"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2075.3672"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2249.9688"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2533.1641"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2749.0938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="2995.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="3228.3516"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="3651.6094"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="4142.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="4519.3984"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5085.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5201.4766"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5317.0078"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5476.4766"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5635.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="5795.4141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6057.7422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6173.2734"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="6339.0703"/><rect fill="#FFFFFF" height="1813.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196" y="2163.5703"/><rect fill="#FFFFFF" height="2245.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1811.0391"/><rect fill="#FFFFFF" height="4487.6328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1706" y="1988.9688"/><rect fill="#FFFFFF" height="1739.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1711" y="3141.9531"/><rect fill="#FFFFFF" height="1291.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="2047" y="4548.5313"/><rect fill="#FFFFFF" height="1148.7422" style="stroke:#181818;stroke-width:1.0;" width="10" x="2108" y="4690.8047"/><rect fill="#FFFFFF" height="1089.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2172.5" y="4749.875"/><rect fill="#FFFFFF" height="1030.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="2241.5" y="4808.9453"/><rect fill="#FFFFFF" height="1816.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2728.5" y="4433"/><rect fill="#FFFFFF" height="346.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="4999.5469"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5405.2109"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5564.6797"/><rect fill="#FFFFFF" height="100.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="2733.5" y="5724.1484"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="149.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="149.1602" y2="149.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="152.1602" y2="152.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="202" x="1569.75" y="138.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="183" x="1575.75" y="154.6606">Autoryzacja u&#380;ytkownika</text><polygon fill="#181818" points="554,188.8594,564,192.8594,554,196.8594,558,192.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="560" y1="192.8594" y2="192.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="297" y="187.7935">GET /auth/google/url</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="221.9922" y2="221.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="221.9922" y2="234.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="234.9922" y2="234.9922"/><polygon fill="#181818" points="587,230.9922,577,234.9922,587,238.9922,583,234.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228" x="583" y="216.9263">GenerateGoogleOAuthUrlQuery</text><polygon fill="#181818" points="870,260.125,880,264.125,870,268.125,874,264.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="876" y1="264.125" y2="264.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="583" y="259.0591">Get OAuth URL</text><polygon fill="#181818" points="301,299.8242,291,303.8242,301,307.8242,297,303.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="570" y1="303.8242" y2="303.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="307" y="298.7583">{url: "https://accounts.google.com/..."}</text><path d="M102,277.125 L102,317.125 L285,317.125 L285,287.125 L275,277.125 L102,277.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,277.125 L275,287.125 L285,287.125 L275,277.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="108" y="294.1919">U&#380;ytkownik przekierowuje</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="108" y="309.3247">do Google OAuth</text><polygon fill="#181818" points="865,339.5234,875,343.5234,865,347.5234,869,343.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="871" y1="343.5234" y2="343.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="297" y="338.4575">Autoryzacja w Google</text><polygon fill="#181818" points="301,368.6563,291,372.6563,301,376.6563,297,372.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="881" y1="372.6563" y2="372.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="307" y="367.5903">Redirect z kodem autoryzacyjnym</text><polygon fill="#181818" points="554,412.9219,564,416.9219,554,420.9219,558,416.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="560" y1="416.9219" y2="416.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="297" y="396.7231">POST /auth/google/callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="297" y="411.856">{code}</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="446.0547" y2="446.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="446.0547" y2="459.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="459.0547" y2="459.0547"/><polygon fill="#181818" points="587,455.0547,577,459.0547,587,463.0547,583,459.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232" x="583" y="440.9888">ValidateGoogleTokenCommand</text><polygon fill="#181818" points="865,484.1875,875,488.1875,865,492.1875,869,488.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="871" y1="488.1875" y2="488.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="583" y="483.1216">Wymiana kodu na token</text><polygon fill="#181818" points="587,513.3203,577,517.3203,587,521.3203,583,517.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581" x2="881" y1="517.3203" y2="517.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="593" y="512.2544">{accessToken, refreshToken, email, name}</text><polygon fill="#181818" points="974,542.4531,984,546.4531,974,550.4531,978,546.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="980" y1="546.4531" y2="546.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="583" y="541.3872">Upsert user (email, name, googleTokens)</text><polygon fill="#181818" points="587,571.5859,577,575.5859,587,579.5859,583,575.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581" x2="990" y1="575.5859" y2="575.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="593" y="570.52">User entity</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="604.7188" y2="604.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="604.7188" y2="617.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="617.7188" y2="617.7188"/><polygon fill="#181818" points="587,613.7188,577,617.7188,587,621.7188,583,617.7188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="583" y="599.6528">Generate JWT token</text><polygon fill="#181818" points="301,660.9844,291,664.9844,301,668.9844,297,664.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="570" y1="664.9844" y2="664.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="307" y="644.7856">Set-Cookie: access_token (httpOnly)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="307" y="659.9185">{user: {id, email, name}}</text><path d="M40,630.7188 L40,670.7188 L285,670.7188 L285,640.7188 L275,630.7188 L40,630.7188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,630.7188 L275,640.7188 L285,640.7188 L275,630.7188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="46" y="647.7856">JWT zapisany w httpOnly cookie</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="46" y="662.9185">Dost&#281;p do chronionych endpoint&#243;w</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="696.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="696.5508" y2="696.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="699.5508" y2="699.5508"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="285" x="1528.25" y="685.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="266" x="1534.25" y="702.0513">Start sesji (u&#380;ytkownik zalogowany)</text><path d="M95,726.1172 L159,726.1172 L159,733.25 L149,743.25 L95,743.25 L95,726.1172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1017.5234" style="stroke:#000000;stroke-width:1.5;" width="1119" x="95" y="726.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="110" y="739.1841">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="214" x="174" y="738.3276">[U&#380;ytkownik ma zapisane profile]</text><polygon fill="#181818" points="554,775.5156,564,779.5156,554,783.5156,558,779.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="560" y1="779.5156" y2="779.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="297" y="759.3169">GET /restapi/user-profiles</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="297" y="774.4497">+ JWT cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="808.6484" y2="808.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="808.6484" y2="821.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="821.6484" y2="821.6484"/><polygon fill="#181818" points="587,817.6484,577,821.6484,587,825.6484,583,821.6484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="583" y="803.5825">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="688" y="803.5825">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="865.9141" y2="865.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="865.9141" y2="878.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="878.9141" y2="878.9141"/><polygon fill="#181818" points="587,874.9141,577,878.9141,587,882.9141,583,878.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="158" x="583" y="845.7153">GetUserProfilesQuery</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="583" y="860.8481">{userId}</text><polygon fill="#181818" points="974,919.1797,984,923.1797,974,927.1797,978,923.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="980" y1="923.1797" y2="923.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="583" y="902.981">Fetch saved profiles</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="583" y="918.1138">(z poprzednich sesji)</text><polygon fill="#181818" points="587,963.4453,577,967.4453,587,971.4453,583,967.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581" x2="990" y1="967.4453" y2="967.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="593" y="947.2466">List&lt;SavedProfile&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="593" y="962.3794">[{profileId, recipientName, occasion, createdAt}]</text><polygon fill="#181818" points="301,1018.2773,291,1022.2773,301,1026.2773,297,1022.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="570" y1="1022.2773" y2="1022.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="307" y="1002.0786">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="307" y="1017.2114">{profiles: [...]}</text><path d="M105,980.4453 L105,1035.4453 L285,1035.4453 L285,990.4453 L275,980.4453 L105,980.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,980.4453 L275,990.4453 L285,990.4453 L275,980.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="111" y="997.5122">U&#380;ytkownik mo&#380;e wybra&#263;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="111" y="1012.645">z listy zapisanych profili</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="111" y="1027.7778">lub stworzy&#263; nowy</text><path d="M261,1047.8438 L325,1047.8438 L325,1054.9766 L315,1064.9766 L261,1064.9766 L261,1047.8438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="472.0625" style="stroke:#000000;stroke-width:1.5;" width="943" x="261" y="1047.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="276" y="1060.9106">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="237" x="340" y="1060.0542">[U&#380;ytkownik wybiera zapisany profil]</text><polygon fill="#181818" points="554,1112.375,564,1116.375,554,1120.375,558,1116.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="560" y1="1116.375" y2="1116.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="297" y="1081.0435">POST /restapi/stalking-request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="297" y="1096.1763">{chatId, profileId, social URLs, occasion}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="297" y="1111.3091">+ JWT cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="1145.5078" y2="1145.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="1145.5078" y2="1158.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="1158.5078" y2="1158.5078"/><polygon fill="#181818" points="587,1154.5078,577,1158.5078,587,1162.5078,583,1158.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="583" y="1140.4419">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="688" y="1140.4419">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="618" y1="1187.6406" y2="1187.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="618" y1="1187.6406" y2="1200.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="577" x2="618" y1="1200.6406" y2="1200.6406"/><polygon fill="#181818" points="587,1196.6406,577,1200.6406,587,1204.6406,583,1200.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="273" x="583" y="1182.5747">StartProcessingWithProfileCommand</text><polygon fill="#181818" points="974,1240.9063,984,1244.9063,974,1248.9063,978,1244.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="980" y1="1244.9063" y2="1244.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="583" y="1224.7075">Load saved profile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="583" y="1239.8403">Create chat session with profileId reference</text><polygon fill="#181818" points="587,1280.6055,577,1284.6055,587,1288.6055,583,1284.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581" x2="990" y1="1284.6055" y2="1284.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="593" y="1279.5396">Chat entity + RecipientProfile</text><path d="M1001,1257.9063 L1001,1297.9063 L1189,1297.9063 L1189,1267.9063 L1179,1257.9063 L1001,1257.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1179,1257.9063 L1179,1267.9063 L1189,1267.9063 L1179,1257.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1007" y="1274.9731">Wywiad zostaje pomini&#281;ty,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1007" y="1290.106">profil za&#322;adowany z bazy</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="261" x2="1204" y1="1304.1719" y2="1304.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206" x="266" y="1314.3823">[U&#380;ytkownik tworzy nowy profil]</text><polygon fill="#181818" points="559,1365.375,569,1369.375,559,1373.375,563,1369.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="565" y1="1369.375" y2="1369.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="297" y="1334.0435">POST /restapi/stalking-request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="297" y="1349.1763">{chatId, social URLs, occasion}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="297" y="1364.3091">+ JWT cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="623" y1="1398.5078" y2="1398.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="623" x2="623" y1="1398.5078" y2="1411.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="582" x2="623" y1="1411.5078" y2="1411.5078"/><polygon fill="#181818" points="592,1407.5078,582,1411.5078,592,1415.5078,588,1411.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="588" y="1393.4419">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="693" y="1393.4419">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="623" y1="1440.6406" y2="1440.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="623" x2="623" y1="1440.6406" y2="1453.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="582" x2="623" y1="1453.6406" y2="1453.6406"/><polygon fill="#181818" points="592,1449.6406,582,1453.6406,592,1457.6406,588,1453.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="588" y="1435.5747">StartProcessingCommand</text><polygon fill="#181818" points="974,1478.7734,984,1482.7734,974,1486.7734,978,1482.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="980" y1="1482.7734" y2="1482.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="588" y="1477.7075">Create chat session</text><polygon fill="#181818" points="592,1507.9063,582,1511.9063,592,1515.9063,588,1511.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586" x2="990" y1="1511.9063" y2="1511.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="598" y="1506.8403">Chat entity</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="95" x2="1214" y1="1527.9063" y2="1527.9063"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="248" x="100" y="1538.1167">[U&#380;ytkownik nie ma zapisanych profili]</text><polygon fill="#181818" points="564,1589.1094,574,1593.1094,564,1597.1094,568,1593.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="570" y1="1593.1094" y2="1593.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="297" y="1557.7778">POST /restapi/stalking-request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="297" y="1572.9106">{chatId, social URLs, occasion}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="297" y="1588.0435">+ JWT cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="1622.2422" y2="1622.2422"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="1622.2422" y2="1635.2422"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="1635.2422" y2="1635.2422"/><polygon fill="#181818" points="597,1631.2422,587,1635.2422,597,1639.2422,593,1635.2422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="593" y="1617.1763">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="698" y="1617.1763">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="1664.375" y2="1664.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="1664.375" y2="1677.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="1677.375" y2="1677.375"/><polygon fill="#181818" points="597,1673.375,587,1677.375,597,1681.375,593,1677.375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="593" y="1659.3091">StartProcessingCommand</text><polygon fill="#181818" points="974,1702.5078,984,1706.5078,974,1710.5078,978,1706.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="980" y1="1706.5078" y2="1706.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="593" y="1701.4419">Create chat session</text><polygon fill="#181818" points="597,1731.6406,587,1735.6406,597,1739.6406,593,1735.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="990" y1="1735.6406" y2="1735.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="603" y="1730.5747">Chat entity</text><path d="M513,1757.6406 L583,1757.6406 L583,1764.7734 L573,1774.7734 L513,1774.7734 L513,1757.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="536.4609" style="stroke:#000000;stroke-width:1.5;" width="1475" x="513" y="1757.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="528" y="1770.7075">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="598" y="1769.8511">[Przetwarzanie R&#243;wnoleg&#322;e]</text><polygon fill="#181818" points="1448,1807.0391,1458,1811.0391,1448,1815.0391,1452,1811.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1454" y1="1811.0391" y2="1811.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="238" x="593" y="1790.8403">StalkingAnalyzeRequestedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="593" y="1805.9731">{chatId, URLs}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="1512" y1="1855.3047" y2="1855.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1512" x2="1512" y1="1855.3047" y2="1868.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1471" x2="1512" y1="1868.3047" y2="1868.3047"/><polygon fill="#181818" points="1481,1864.3047,1471,1868.3047,1481,1872.3047,1477,1868.3047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192" x="1477" y="1835.106">StalkingAnalyzeCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="1477" y="1850.2388">(analiza profili social media)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="513" x2="1988" y1="1877.3047" y2="1877.3047"/><path d="M523,1885.3047 L587,1885.3047 L587,1892.4375 L577,1902.4375 L523,1902.4375 L523,1885.3047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="401.7969" style="stroke:#000000;stroke-width:1.5;" width="1455" x="523" y="1885.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="538" y="1898.3716">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="289" x="602" y="1897.5151">[Profil za&#322;adowany z bazy (profileId podany)]</text><path d="M1114,1907.4375 L1114,1947.4375 L1288,1947.4375 L1288,1917.4375 L1278,1907.4375 L1114,1907.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1278,1907.4375 L1278,1917.4375 L1288,1917.4375 L1278,1907.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1120" y="1924.5044">Wywiad pomini&#281;ty,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1120" y="1939.6372">profil ju&#380; istnieje w bazie</text><polygon fill="#181818" points="1694,1984.9688,1704,1988.9688,1694,1992.9688,1698,1988.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1700" y1="1988.9688" y2="1988.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="223" x="593" y="1968.77">ChatInterviewCompletedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="593" y="1983.9028">{chatId, profile (from DB)}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1716" x2="1758" y1="2033.2344" y2="2033.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="1758" y1="2033.2344" y2="2046.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1717" x2="1758" y1="2046.2344" y2="2046.2344"/><polygon fill="#181818" points="1727,2042.2344,1717,2046.2344,1727,2050.2344,1723,2046.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="243" x="1723" y="2013.0356">UpdateInterviewStatusCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1723" y="2028.1685">(u&#380;yj za&#322;adowanego profilu)</text><polygon fill="#181818" points="1007,2071.3672,997,2075.3672,1007,2079.3672,1003,2075.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1705" y1="2075.3672" y2="2075.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1013" y="2070.3013">Update chat interview status</text><polygon fill="#181818" points="1694,2100.5,1704,2104.5,1694,2108.5,1698,2104.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="1700" y1="2104.5" y2="2104.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="998" y="2099.4341">Updated chat</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523" x2="1978" y1="2113.5" y2="2113.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="528" y="2123.7104">[Nowa sesja (brak profileId)]</text><polygon fill="#181818" points="1184,2159.5703,1194,2163.5703,1184,2167.5703,1188,2163.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1190" y1="2163.5703" y2="2163.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="593" y="2143.3716">ChatStartInterviewEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="593" y="2158.5044">{chatId, occasion}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1248" y1="2207.8359" y2="2207.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1248" y1="2207.8359" y2="2220.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1207" x2="1248" y1="2220.8359" y2="2220.8359"/><polygon fill="#181818" points="1217,2216.8359,1207,2220.8359,1217,2224.8359,1213,2220.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="165" x="1213" y="2187.6372">SetOccasionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1213" y="2202.77">{chatId, occasion}</text><polygon fill="#181818" points="1007,2245.9688,997,2249.9688,1007,2253.9688,1003,2249.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1195" y1="2249.9688" y2="2249.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1013" y="2244.9028">Create chat session record</text><polygon fill="#181818" points="1184,2275.1016,1194,2279.1016,1184,2283.1016,1188,2279.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="1190" y1="2279.1016" y2="2279.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="998" y="2274.0356">Chat session</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="2321.668"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="2321.668" y2="2321.668"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="2324.668" y2="2324.668"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="454" x="1443.75" y="2311.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="435" x="1449.75" y="2327.1685">Interview loop (tylko gdy profil NIE by&#322; za&#322;adowany z bazy)</text><path d="M261,2351.2344 L338,2351.2344 L338,2358.3672 L328,2368.3672 L261,2368.3672 L261,2351.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="681.1875" style="stroke:#000000;stroke-width:1.5;" width="1186" x="261" y="2351.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="276" y="2364.3013">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="462" x="353" y="2363.4448">[Dop&#243;ki AI nie zdecyduje zako&#324;czy&#263; lub niew&#322;a&#347;ciwe zachowanie usera]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1248" y1="2404.6328" y2="2404.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1248" y1="2404.6328" y2="2417.6328"/><line style="stroke:#181818;stroke-width:1.0;" x1="1207" x2="1248" y1="2417.6328" y2="2417.6328"/><polygon fill="#181818" points="1217,2413.6328,1207,2417.6328,1217,2421.6328,1213,2417.6328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="208" x="1213" y="2384.4341">GenerateQuestionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1213" y="2399.5669">(AI decyduje o nast&#281;pnym pytaniu)</text><polygon fill="#181818" points="597,2457.8984,587,2461.8984,597,2465.8984,593,2461.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="1195" y1="2461.8984" y2="2461.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="186" x="603" y="2441.6997">ChatQuestionAskedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="603" y="2456.8325">{chatId, question, potentialAnswers}</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="2491.0313" y2="2491.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="2491.0313" y2="2504.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="2504.0313" y2="2504.0313"/><polygon fill="#181818" points="597,2500.0313,587,2504.0313,597,2508.0313,593,2504.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="593" y="2485.9653">NotifyUserSseCommand</text><polygon fill="#181818" points="974,2529.1641,984,2533.1641,974,2537.1641,978,2533.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="980" y1="2533.1641" y2="2533.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="593" y="2528.0981">Save message to database</text><polygon fill="#181818" points="597,2558.2969,587,2562.2969,597,2566.2969,593,2562.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="990" y1="2562.2969" y2="2562.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="603" y="2557.231">Message entity</text><polygon fill="#181818" points="301,2587.4297,291,2591.4297,301,2595.4297,297,2591.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="575" y1="2591.4297" y2="2591.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="307" y="2586.3638">SSE: chatbot-message</text><polygon fill="#181818" points="564,2631.6953,574,2635.6953,564,2639.6953,568,2635.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="570" y1="2635.6953" y2="2635.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="297" y="2615.4966">POST /restapi/send-message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="297" y="2630.6294">{chatId, messages}</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="2664.8281" y2="2664.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="2664.8281" y2="2677.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="2677.8281" y2="2677.8281"/><polygon fill="#181818" points="597,2673.8281,587,2677.8281,597,2681.8281,593,2677.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="593" y="2659.7622">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="698" y="2659.7622">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="2706.9609" y2="2706.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="2706.9609" y2="2719.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="2719.9609" y2="2719.9609"/><polygon fill="#181818" points="597,2715.9609,587,2719.9609,597,2723.9609,593,2719.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="593" y="2701.895">SendUserMessageCommand</text><polygon fill="#181818" points="974,2745.0938,984,2749.0938,974,2753.0938,978,2749.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="980" y1="2749.0938" y2="2749.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="593" y="2744.0278">Save user message to database</text><polygon fill="#181818" points="597,2774.2266,587,2778.2266,597,2782.2266,593,2778.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="990" y1="2778.2266" y2="2778.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="603" y="2773.1606">Message entity</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="2807.3594" y2="2807.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="2807.3594" y2="2820.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="2820.3594" y2="2820.3594"/><polygon fill="#181818" points="597,2816.3594,587,2820.3594,597,2824.3594,593,2820.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="593" y="2802.2935">NotifyUserSseCommand</text><polygon fill="#181818" points="301,2860.625,291,2864.625,301,2868.625,297,2864.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="575" y1="2864.625" y2="2864.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="307" y="2844.4263">SSE: chatbot-message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="307" y="2859.5591">(echo wiadomo&#347;ci u&#380;ytkownika)</text><polygon fill="#181818" points="1184,2904.8906,1194,2908.8906,1184,2912.8906,1188,2908.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="1190" y1="2908.8906" y2="2908.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="593" y="2888.6919">ChatUserAnsweredEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="593" y="2903.8247">{chatId, messages}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1248" y1="2953.1563" y2="2953.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1248" y1="2953.1563" y2="2966.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1207" x2="1248" y1="2966.1563" y2="2966.1563"/><polygon fill="#181818" points="1217,2962.1563,1207,2966.1563,1217,2970.1563,1213,2966.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="135" x="1213" y="2932.9575">GetOccasionQuery</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1213" y="2948.0903">{chatId}</text><polygon fill="#181818" points="1007,2991.2891,997,2995.2891,1007,2999.2891,1003,2995.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1195" y1="2995.2891" y2="2995.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="1013" y="2990.2231">Fetch occasion from session</text><polygon fill="#181818" points="1184,3020.4219,1194,3024.4219,1184,3028.4219,1188,3024.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="1190" y1="3024.4219" y2="3024.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="998" y="3019.356">Occasion data</text><path d="M91,3046.4219 L155,3046.4219 L155,3053.5547 L145,3063.5547 L91,3063.5547 L91,3046.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="923.4531" style="stroke:#000000;stroke-width:1.5;" width="1961" x="91" y="3046.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="106" y="3059.4888">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="209" x="170" y="3058.6323">[Wywiad zako&#324;czony pomy&#347;lnie]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1248" y1="3084.6875" y2="3084.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1248" y1="3084.6875" y2="3097.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1207" x2="1248" y1="3097.6875" y2="3097.6875"/><polygon fill="#181818" points="1217,3093.6875,1207,3097.6875,1217,3101.6875,1213,3097.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1213" y="3079.6216">closeInterview</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1322" y="3079.6216">toolcall</text><polygon fill="#181818" points="1699,3137.9531,1709,3141.9531,1699,3145.9531,1703,3141.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1705" y1="3141.9531" y2="3141.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="223" x="1213" y="3121.7544">ChatInterviewCompletedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1213" y="3136.8872">{chatId, profile}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="1763" y1="3186.2188" y2="3186.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1763" x2="1763" y1="3186.2188" y2="3199.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1722" x2="1763" y1="3199.2188" y2="3199.2188"/><polygon fill="#181818" points="1732,3195.2188,1722,3199.2188,1732,3203.2188,1728,3199.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="243" x="1728" y="3166.02">UpdateInterviewStatusCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="1728" y="3181.1528">(zapisz profil usera, sprawd&#378; czy stalking gotowy)</text><polygon fill="#181818" points="1007,3224.3516,997,3228.3516,1007,3232.3516,1003,3228.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1710" y1="3228.3516" y2="3228.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1013" y="3223.2856">Update chat interview status</text><polygon fill="#181818" points="1699,3253.4844,1709,3257.4844,1699,3261.4844,1703,3257.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="1705" y1="3257.4844" y2="3257.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="998" y="3252.4185">Updated chat</text><polygon fill="#181818" points="597,3297.75,587,3301.75,597,3305.75,593,3301.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="1195" y1="3301.75" y2="3301.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="233" x="603" y="3281.5513">ChatCompletedNotifyUserEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="603" y="3296.6841">{chatId, profile}</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="3330.8828" y2="3330.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="3330.8828" y2="3343.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="3343.8828" y2="3343.8828"/><polygon fill="#181818" points="597,3339.8828,587,3343.8828,597,3347.8828,593,3343.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="593" y="3325.8169">NotifyUserSseCommand</text><polygon fill="#181818" points="301,3394.7148,291,3398.7148,301,3402.7148,297,3398.7148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="575" y1="3398.7148" y2="3398.7148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="307" y="3378.5161">SSE: chat-interview-completed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="307" y="3393.6489">{profile}</text><path d="M127,3356.8828 L127,3411.8828 L285,3411.8828 L285,3366.8828 L275,3356.8828 L127,3356.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,3356.8828 L275,3366.8828 L285,3366.8828 L275,3356.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="133" y="3373.9497">Wywiad zako&#324;czony,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="133" y="3389.0825">ekran &#322;adowania</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="133" y="3404.2153">+ opcja zapisu profilu</text><path d="M101,3424.2813 L171,3424.2813 L171,3431.4141 L161,3441.4141 L101,3441.4141 L101,3424.2813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="344.9922" style="stroke:#000000;stroke-width:1.5;" width="943.5" x="101" y="3424.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="116" y="3437.3481">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="362" x="186" y="3436.4917">[U&#380;ytkownik chce zapisa&#263; profil do p&#243;&#378;niejszego u&#380;ycia]</text><polygon fill="#181818" points="569,3488.8125,579,3492.8125,569,3496.8125,573,3492.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="575" y1="3492.8125" y2="3492.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="297" y="3457.481">POST /restapi/save-profile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="297" y="3472.6138">{chatId, recipientName}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="297" y="3487.7466">+ JWT cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="633" y1="3521.9453" y2="3521.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="633" x2="633" y1="3521.9453" y2="3534.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="592" x2="633" y1="3534.9453" y2="3534.9453"/><polygon fill="#181818" points="602,3530.9453,592,3534.9453,602,3538.9453,598,3534.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="598" y="3516.8794">JwtAuthGuard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="703" y="3516.8794">- weryfikacja tokena</text><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="633" y1="3579.2109" y2="3579.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="633" x2="633" y1="3579.2109" y2="3592.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="592" x2="633" y1="3592.2109" y2="3592.2109"/><polygon fill="#181818" points="602,3588.2109,592,3592.2109,602,3596.2109,598,3592.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191" x="598" y="3559.0122">SaveUserProfileCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="598" y="3574.145">{userId, chatId, recipientName}</text><polygon fill="#181818" points="974,3647.6094,984,3651.6094,974,3655.6094,978,3651.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="980" y1="3651.6094" y2="3651.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="598" y="3616.2778">Save RecipientProfile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="598" y="3631.4106">(from completed interview)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="598" y="3646.5435">as SavedProfile entity</text><polygon fill="#181818" points="602,3691.875,592,3695.875,602,3699.875,598,3695.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596" x2="990" y1="3695.875" y2="3695.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="608" y="3675.6763">SavedProfile entity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="608" y="3690.8091">{profileId, recipientName, occasion, profile}</text><polygon fill="#181818" points="301,3746.707,291,3750.707,301,3754.707,297,3750.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="575" y1="3750.707" y2="3750.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="307" y="3730.5083">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="307" y="3745.6411">{profileId, recipientName}</text><path d="M111,3708.875 L111,3763.875 L285,3763.875 L285,3718.875 L275,3708.875 L111,3708.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,3708.875 L275,3718.875 L285,3718.875 L275,3708.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="117" y="3725.9419">Profil zapisany,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="117" y="3741.0747">dost&#281;pny przy kolejnych</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="117" y="3756.2075">sesji wyszukiwania</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91" x2="2052" y1="3777.2734" y2="3777.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="227" x="96" y="3787.4839">[Wykryto niew&#322;a&#347;ciwe zachowanie]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1206" x2="1248" y1="3812.2109" y2="3812.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1248" y1="3812.2109" y2="3825.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1207" x2="1248" y1="3825.2109" y2="3825.2109"/><polygon fill="#181818" points="1217,3821.2109,1207,3825.2109,1217,3829.2109,1213,3825.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191" x="1213" y="3807.145">flagInappropriateRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1408" y="3807.145">toolcall</text><polygon fill="#181818" points="597,3865.4766,587,3869.4766,597,3873.4766,593,3869.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="1195" y1="3869.4766" y2="3869.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237" x="603" y="3849.2778">ChatInappropriateRequestEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="603" y="3864.4106">{chatId, reason}</text><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="628" y1="3898.6094" y2="3898.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="628" x2="628" y1="3898.6094" y2="3911.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="587" x2="628" y1="3911.6094" y2="3911.6094"/><polygon fill="#181818" points="597,3907.6094,587,3911.6094,597,3915.6094,593,3911.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="593" y="3893.5435">NotifyUserSseCommand</text><polygon fill="#181818" points="301,3947.3086,291,3951.3086,301,3955.3086,297,3951.3086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="575" y1="3951.3086" y2="3951.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="307" y="3946.2427">SSE: chat-inappropriate-request</text><path d="M112,3924.6094 L112,3964.6094 L285,3964.6094 L285,3934.6094 L275,3924.6094 L112,3924.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,3924.6094 L275,3934.6094 L285,3934.6094 L275,3924.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="118" y="3941.6763">Wywiad zako&#324;czony,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="118" y="3956.8091">nagana dla u&#380;ytkownika</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="3997.4414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="3997.4414" y2="3997.4414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="4000.4414" y2="4000.4414"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="186" x="1577.75" y="3986.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167" x="1583.75" y="4002.9419">Zako&#324;czenie Stalkingu</text><polygon fill="#181818" points="1699,4052.2734,1709,4056.2734,1699,4060.2734,1703,4056.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1465" x2="1705" y1="4056.2734" y2="4056.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="182" x="1472" y="4036.0747">StalkingCompletedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1472" y="4051.2075">{keywords, chatId, completedAt}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="1763" y1="4100.5391" y2="4100.5391"/><line style="stroke:#181818;stroke-width:1.0;" x1="1763" x2="1763" y1="4100.5391" y2="4113.5391"/><line style="stroke:#181818;stroke-width:1.0;" x1="1722" x2="1763" y1="4113.5391" y2="4113.5391"/><polygon fill="#181818" points="1732,4109.5391,1722,4113.5391,1732,4117.5391,1728,4113.5391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="236" x="1728" y="4080.3403">UpdateStalkingStatusCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="1728" y="4095.4731">(zapisz keywords, sprawd&#378; czy wywiad gotowy)</text><polygon fill="#181818" points="1007,4138.6719,997,4142.6719,1007,4146.6719,1003,4142.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1710" y1="4142.6719" y2="4142.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1013" y="4137.606">Update chat stalking status</text><polygon fill="#181818" points="1699,4167.8047,1709,4171.8047,1699,4175.8047,1703,4171.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="1705" y1="4171.8047" y2="4171.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="998" y="4166.7388">Updated chat</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="4200.3711"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="4200.3711" y2="4200.3711"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="4203.3711" y2="4203.3711"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="294" x="1523.75" y="4189.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="275" x="1529.75" y="4205.8716">Koordynacja Generowania Prezent&#243;w</text><path d="M1614,4227.9375 L1614,4252.9375 L1808,4252.9375 L1808,4237.9375 L1798,4227.9375 L1614,4227.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1798,4227.9375 L1798,4237.9375 L1808,4237.9375 L1798,4227.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1620" y="4245.0044">Gdy oba eventy otrzymane</text><path d="M937.5,4265.0703 L1001.5,4265.0703 L1001.5,4272.2031 L991.5,4282.2031 L937.5,4282.2031 L937.5,4265.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="609.1406" style="stroke:#000000;stroke-width:1.5;" width="2053" x="937.5" y="4265.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="952.5" y="4278.1372">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="285" x="1016.5" y="4277.2808">[Zar&#243;wno stalking jak i wywiad zako&#324;czone]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="1763" y1="4318.4688" y2="4318.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="1763" x2="1763" y1="4318.4688" y2="4331.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="1722" x2="1763" y1="4331.4688" y2="4331.4688"/><polygon fill="#181818" points="1732,4327.4688,1722,4331.4688,1732,4335.4688,1728,4331.4688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210" x="1728" y="4298.27">GenerateGiftIdeasCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1728" y="4313.4028">{userProfile, keywords, chatId}</text><path d="M1950,4290.7031 L1950,4330.7031 L2300,4330.7031 L2300,4300.7031 L2290,4290.7031 L1950,4290.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2290,4290.7031 L2290,4300.7031 L2300,4300.7031 L2290,4290.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="1956" y="4307.77">AI generuje zapytania wyszukiwania</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="1956" y="4322.9028">dla wielu serwis&#243;w (z filtrowaniem disabled services)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="1763" y1="4375.7344" y2="4375.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1763" x2="1763" y1="4375.7344" y2="4388.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1722" x2="1763" y1="4388.7344" y2="4388.7344"/><polygon fill="#181818" points="1732,4384.7344,1722,4388.7344,1732,4392.7344,1728,4388.7344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1728" y="4355.5356">Generate eventId (ULID)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1728" y="4370.6685">and calculate totalEvents</text><polygon fill="#181818" points="2716.5,4429,2726.5,4433,2716.5,4437,2720.5,4433" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="2722.5" y1="4433" y2="4433"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="196" x="1728" y="4412.8013">GiftContextInitializedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="1728" y="4427.9341">{userProfile, keywords, chatId, eventId, totalEvents}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2738.5" x2="2780.5" y1="4477.2656" y2="4477.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2780.5" x2="2780.5" y1="4477.2656" y2="4490.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2739.5" x2="2780.5" y1="4490.2656" y2="4490.2656"/><polygon fill="#181818" points="2749.5,4486.2656,2739.5,4490.2656,2749.5,4494.2656,2745.5,4490.2656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="220" x="2745.5" y="4457.0669">InitializeGiftContextCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="2745.5" y="4472.1997">(create/update session with context)</text><polygon fill="#181818" points="1007,4515.3984,997,4519.3984,1007,4523.3984,1003,4519.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2727.5" y1="4519.3984" y2="4519.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1013" y="4514.3325">Create GiftSession with context</text><polygon fill="#181818" points="2716.5,4544.5313,2726.5,4548.5313,2716.5,4552.5313,2720.5,4548.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="4548.5313" y2="4548.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="998" y="4543.4653">Session created</text><path d="M1635,4563.5313 L1705,4563.5313 L1705,4570.6641 L1695,4580.6641 L1635,4580.6641 L1635,4563.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="303.6797" style="stroke:#000000;stroke-width:1.5;" width="803" x="1635" y="4563.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="1650" y="4576.5981">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="1720" y="4575.7417">[R&#243;wnoleg&#322;e &#379;&#261;dania FETCH]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1635" x2="2438" y1="4581.6641" y2="4581.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="1640" y="4591.8745">[OLX]</text><polygon fill="#181818" points="2035,4627.7344,2045,4631.7344,2035,4635.7344,2039,4631.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="2041" y1="4631.7344" y2="4631.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1728" y="4611.5356">FetchOlxEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1728" y="4626.6685">{query, chatId, eventId, totalEvents}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1635" x2="2438" y1="4640.7344" y2="4640.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55" x="1640" y="4650.9448">[Allegro]</text><polygon fill="#181818" points="2096,4686.8047,2106,4690.8047,2096,4694.8047,2100,4690.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="2102" y1="4690.8047" y2="4690.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="1728" y="4670.606">FetchAllegroEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1728" y="4685.7388">{query, chatId, eventId, totalEvents}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1635" x2="2438" y1="4699.8047" y2="4699.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1640" y="4710.0151">[eBay]</text><polygon fill="#181818" points="2160.5,4745.875,2170.5,4749.875,2160.5,4753.875,2164.5,4749.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="2166.5" y1="4749.875" y2="4749.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1728" y="4729.6763">FetchEbayEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1728" y="4744.8091">{query, chatId, eventId, totalEvents}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1635" x2="2438" y1="4758.875" y2="4758.875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1640" y="4769.0854">[Amazon]</text><polygon fill="#181818" points="2229.5,4804.9453,2239.5,4808.9453,2229.5,4812.9453,2233.5,4808.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1721" x2="2235.5" y1="4808.9453" y2="4808.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141" x="1728" y="4788.7466">FetchAmazonEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1728" y="4803.8794">{query, chatId, eventId, totalEvents}</text><path d="M2256,4821.9453 L2256,4861.9453 L2428,4861.9453 L2428,4831.9453 L2418,4821.9453 L2256,4821.9453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2418,4821.9453 L2418,4831.9453 L2428,4831.9453 L2418,4821.9453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="2262" y="4839.0122">Wiele zapyta&#324; na serwis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2262" y="4854.145">na podstawie decyzji AI</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3341.5" x="0" y="4901.7773"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="4901.7773" y2="4901.7773"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3341.5" y1="4904.7773" y2="4904.7773"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="292" x="1524.75" y="4891.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="273" x="1530.75" y="4907.2778">Zbieranie Produkt&#243;w i Rerankowanie</text><path d="M937.5,4931.3438 L1007.5,4931.3438 L1007.5,4938.4766 L997.5,4948.4766 L937.5,4948.4766 L937.5,4931.3438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="901.2031" style="stroke:#000000;stroke-width:1.5;" width="2175" x="937.5" y="4931.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="952.5" y="4944.4106">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="245" x="1022.5" y="4943.5542">[Odpowiedzi od wszystkich serwis&#243;w]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="3112.5" y1="4949.4766" y2="4949.4766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="942.5" y="4959.687">[OLX]</text><polygon fill="#181818" points="2721.5,4995.5469,2731.5,4999.5469,2721.5,5003.5469,2725.5,4999.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2057" x2="2727.5" y1="4999.5469" y2="4999.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="2064" y="4979.3481">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="2064" y="4994.481">{products[], chatId, provider: "olx", success, eventId, totalEvents}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5043.8125" y2="5043.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5043.8125" y2="5056.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5056.8125" y2="5056.8125"/><polygon fill="#181818" points="2754.5,5052.8125,2744.5,5056.8125,2754.5,5060.8125,2750.5,5056.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="180" x="2750.5" y="5023.6138">CreateSessionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2750.5" y="5038.7466">(ensure session exists)</text><polygon fill="#181818" points="1007,5081.9453,997,5085.9453,1007,5089.9453,1003,5085.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5085.9453" y2="5085.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1013" y="5080.8794">Upsert GiftSession</text><polygon fill="#181818" points="2721.5,5111.0781,2731.5,5115.0781,2721.5,5119.0781,2725.5,5115.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2727.5" y1="5115.0781" y2="5115.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="998" y="5110.0122">Session</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5159.3438" y2="5159.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5159.3438" y2="5172.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5172.3438" y2="5172.3438"/><polygon fill="#181818" points="2754.5,5168.3438,2744.5,5172.3438,2754.5,5176.3438,2750.5,5172.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="244" x="2750.5" y="5139.145">AddProductsToSessionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="2750.5" y="5154.2778">(store products with metadata)</text><polygon fill="#181818" points="1007,5197.4766,997,5201.4766,1007,5205.4766,1003,5201.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5201.4766" y2="5201.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="1013" y="5196.4106">Save Products &amp; GiftSessionProduct</text><polygon fill="#181818" points="2721.5,5226.6094,2731.5,5230.6094,2721.5,5234.6094,2725.5,5230.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2727.5" y1="5230.6094" y2="5230.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="998" y="5225.5435">Products saved</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5274.875" y2="5274.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5274.875" y2="5287.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5287.875" y2="5287.875"/><polygon fill="#181818" points="2754.5,5283.875,2744.5,5287.875,2754.5,5291.875,2750.5,5287.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="289" x="2750.5" y="5254.6763">IncrementSessionCompletionCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="2750.5" y="5269.8091">(increment completedEvents)</text><polygon fill="#181818" points="1007,5313.0078,997,5317.0078,1007,5321.0078,1003,5317.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5317.0078" y2="5317.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1013" y="5311.9419">Update completedEvents counter</text><polygon fill="#181818" points="2716.5,5342.1406,2726.5,5346.1406,2716.5,5350.1406,2720.5,5346.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="5346.1406" y2="5346.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="998" y="5341.0747">{completed: boolean}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="3112.5" y1="5355.1406" y2="5355.1406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55" x="942.5" y="5365.3511">[Allegro]</text><polygon fill="#181818" points="2721.5,5401.2109,2731.5,5405.2109,2721.5,5409.2109,2725.5,5405.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2118" x2="2727.5" y1="5405.2109" y2="5405.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="2125" y="5385.0122">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="444" x="2125" y="5400.145">{products[], chatId, provider: "allegro", success, eventId, totalEvents}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5434.3438" y2="5434.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5434.3438" y2="5447.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5447.3438" y2="5447.3438"/><polygon fill="#181818" points="2754.5,5443.3438,2744.5,5447.3438,2754.5,5451.3438,2750.5,5447.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="2750.5" y="5429.2778">CreateSession &#8594; AddProducts &#8594; IncrementCompletion</text><polygon fill="#181818" points="1007,5472.4766,997,5476.4766,1007,5480.4766,1003,5476.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5476.4766" y2="5476.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1013" y="5471.4106">DB operations</text><polygon fill="#181818" points="2716.5,5501.6094,2726.5,5505.6094,2716.5,5509.6094,2720.5,5505.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="5505.6094" y2="5505.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="998" y="5500.5435">{completed: boolean}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="3112.5" y1="5514.6094" y2="5514.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="42" x="942.5" y="5524.8198">[eBay]</text><polygon fill="#181818" points="2721.5,5560.6797,2731.5,5564.6797,2721.5,5568.6797,2725.5,5564.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2182.5" x2="2727.5" y1="5564.6797" y2="5564.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="2189.5" y="5544.481">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="432" x="2189.5" y="5559.6138">{products[], chatId, provider: "ebay", success, eventId, totalEvents}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5593.8125" y2="5593.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5593.8125" y2="5606.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5606.8125" y2="5606.8125"/><polygon fill="#181818" points="2754.5,5602.8125,2744.5,5606.8125,2754.5,5610.8125,2750.5,5606.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="2750.5" y="5588.7466">CreateSession &#8594; AddProducts &#8594; IncrementCompletion</text><polygon fill="#181818" points="1007,5631.9453,997,5635.9453,1007,5639.9453,1003,5635.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5635.9453" y2="5635.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1013" y="5630.8794">DB operations</text><polygon fill="#181818" points="2716.5,5661.0781,2726.5,5665.0781,2716.5,5669.0781,2720.5,5665.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="5665.0781" y2="5665.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="998" y="5660.0122">{completed: boolean}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="3112.5" y1="5674.0781" y2="5674.0781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="942.5" y="5684.2886">[Amazon]</text><polygon fill="#181818" points="2721.5,5720.1484,2731.5,5724.1484,2721.5,5728.1484,2725.5,5724.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2251.5" x2="2727.5" y1="5724.1484" y2="5724.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="2258.5" y="5703.9497">ProductFetchedEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="453" x="2258.5" y="5719.0825">{products[], chatId, provider: "amazon", success, eventId, totalEvents}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2743.5" x2="2785.5" y1="5753.2813" y2="5753.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="2785.5" x2="2785.5" y1="5753.2813" y2="5766.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="2744.5" x2="2785.5" y1="5766.2813" y2="5766.2813"/><polygon fill="#181818" points="2754.5,5762.2813,2744.5,5766.2813,2754.5,5770.2813,2750.5,5766.2813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="2750.5" y="5748.2153">CreateSession &#8594; AddProducts &#8594; IncrementCompletion</text><polygon fill="#181818" points="1007,5791.4141,997,5795.4141,1007,5799.4141,1003,5795.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2732.5" y1="5795.4141" y2="5795.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1013" y="5790.3481">DB operations</text><polygon fill="#181818" points="2716.5,5820.5469,2726.5,5824.5469,2716.5,5828.5469,2720.5,5824.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="5824.5469" y2="5824.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="998" y="5819.481">{completed: boolean}</text><path d="M2438,5844.5469 L2438,5914.5469 L3028,5914.5469 L3028,5854.5469 L3018,5844.5469 L2438,5844.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3018,5844.5469 L3018,5854.5469 L3028,5854.5469 L3018,5844.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405" x="2444" y="5861.6138">Reranking Service &#347;ledzi completedEvents dla ka&#380;dego eventId.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="569" x="2444" y="5876.7466">Gdy completedEvents &gt;= totalEvents, automatycznie wywo&#322;uje EmitGiftReadyCommand.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="533" x="2444" y="5891.8794">Dodatkowy scheduler (@Cron EVERY_30_SECONDS) oznacza sesje jako TIMED_OUT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="488" x="2444" y="5907.0122">je&#347;li nie otrzyma&#322;y wszystkich event&#243;w w EVENT_TIMEOUT_MS (default 120s).</text><path d="M10,5927.0781 L74,5927.0781 L74,5934.2109 L64,5944.2109 L10,5944.2109 L10,5927.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="541.5234" style="stroke:#000000;stroke-width:1.5;" width="3321.5" x="10" y="5927.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="5940.145">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="414" x="89" y="5939.2886">[Wszystkie produkty zebrane (completedEvents &gt;= totalEvents)]</text><path d="M2565,5949.2109 L2565,5974.2109 L2901,5974.2109 L2901,5959.2109 L2891,5949.2109 L2565,5949.2109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2891,5949.2109 L2891,5959.2109 L2901,5959.2109 L2891,5949.2109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="2571" y="5966.2778">ProductFetchedHandler wykrywa completed=true</text><line style="stroke:#181818;stroke-width:1.0;" x1="2738.5" x2="2780.5" y1="6015.6094" y2="6015.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="2780.5" x2="2780.5" y1="6015.6094" y2="6028.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="2739.5" x2="2780.5" y1="6028.6094" y2="6028.6094"/><polygon fill="#181818" points="2749.5,6024.6094,2739.5,6028.6094,2749.5,6032.6094,2745.5,6028.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="2745.5" y="5995.4106">EmitGiftReadyCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="2745.5" y="6010.5435">{eventId}</text><polygon fill="#181818" points="1007,6053.7422,997,6057.7422,1007,6061.7422,1003,6057.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2727.5" y1="6057.7422" y2="6057.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="1013" y="6052.6763">Query GiftSession, GiftSessionProduct, Product</text><polygon fill="#181818" points="2716.5,6082.875,2726.5,6086.875,2716.5,6090.875,2720.5,6086.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="6086.875" y2="6086.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="998" y="6081.8091">Session with all products</text><line style="stroke:#181818;stroke-width:1.0;" x1="2738.5" x2="2780.5" y1="6131.1406" y2="6131.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="2780.5" x2="2780.5" y1="6131.1406" y2="6144.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="2739.5" x2="2780.5" y1="6144.1406" y2="6144.1406"/><polygon fill="#181818" points="2749.5,6140.1406,2739.5,6144.1406,2749.5,6148.1406,2745.5,6144.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="2745.5" y="6110.9419">rankProducts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2848.5" y="6110.9419">(AI via OpenAI)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="2745.5" y="6126.0747">(score and reason for each product)</text><path d="M2987,6103.375 L2987,6143.375 L3311,6143.375 L3311,6113.375 L3301,6103.375 L2987,6103.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3301,6103.375 L3301,6113.375 L3311,6113.375 L3301,6103.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="2993" y="6120.4419">AI-SDK generateObject z OpenAI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="2993" y="6135.5747">okre&#347;la rating i reasoning dla ka&#380;dego produktu</text><polygon fill="#181818" points="1007,6169.2734,997,6173.2734,1007,6177.2734,1003,6173.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="2727.5" y1="6173.2734" y2="6173.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="1013" y="6168.2075">Update Products with rating &amp; reasoning</text><polygon fill="#181818" points="2716.5,6198.4063,2726.5,6202.4063,2716.5,6206.4063,2720.5,6202.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="991" x2="2722.5" y1="6202.4063" y2="6202.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="998" y="6197.3403">Products updated</text><polygon fill="#181818" points="602,6245.6719,592,6249.6719,602,6253.6719,598,6249.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="596" x2="2732.5" y1="6249.6719" y2="6249.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="608" y="6229.4731">GiftReadyEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="608" y="6244.606">{chatId, rankedProducts[]}</text><path d="M2743,6215.4063 L2743,6255.4063 L2965,6255.4063 L2965,6225.4063 L2955,6215.4063 L2743,6215.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2955,6215.4063 L2955,6225.4063 L2965,6225.4063 L2955,6215.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="2749" y="6232.4731">RERANK emituje event</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="2749" y="6247.606">z ju&#380; zrankowanymi produktami</text><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="633" y1="6296.9375" y2="6296.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="633" x2="633" y1="6296.9375" y2="6309.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="592" x2="633" y1="6309.9375" y2="6309.9375"/><polygon fill="#181818" points="602,6305.9375,592,6309.9375,602,6313.9375,598,6309.9375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167" x="598" y="6276.7388">SaveListingsCommand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="598" y="6291.8716">{chatId, listings[]}</text><polygon fill="#181818" points="974,6335.0703,984,6339.0703,974,6343.0703,978,6339.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="980" y1="6339.0703" y2="6339.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="598" y="6334.0044">Save listings to REST API database</text><polygon fill="#181818" points="602,6364.2031,592,6368.2031,602,6372.2031,598,6368.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596" x2="990" y1="6368.2031" y2="6368.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="608" y="6363.1372">Saved listings with IDs</text><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="633" y1="6397.3359" y2="6397.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="633" x2="633" y1="6397.3359" y2="6410.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="592" x2="633" y1="6410.3359" y2="6410.3359"/><polygon fill="#181818" points="602,6406.3359,592,6410.3359,602,6414.3359,598,6410.3359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="598" y="6392.27">NotifyUserSseCommand</text><polygon fill="#181818" points="301,6453.6016,291,6457.6016,301,6461.6016,297,6457.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="575" y1="6457.6016" y2="6457.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="307" y="6437.4028">SSE: gift-ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="307" y="6452.5356">{listings with database IDs}</text><path d="M20,6423.3359 L20,6463.3359 L285,6463.3359 L285,6433.3359 L275,6423.3359 L20,6423.3359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M275,6423.3359 L275,6433.3359 L285,6433.3359 L275,6423.3359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="26" y="6440.4028">Produkty gotowe do wy&#347;wietlenia</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="26" y="6455.5356">u&#380;ytkownik mo&#380;e doda&#263; do ulubionych</text><!--SRC=[vLhDSjj64hxpAQQqLIdIeIGdkQdMhgKbMc4iYueenPjOBjKG654ZWXW660W6NBouiklxtb9-ZDookSLyaNsIxPuVO410b1pRMrkLaoXWfl_xw-uPI2u3Hde3SXInc8MIFEQXpoAoIPvI7fB7WKX9UrVCvW6JZAHSNXBuRqP3FoQVaVurR8axhHRrf8Z8QGmxQKnEMtCQIUxnEGMA6yVzqGdf7Gqsy1t-KtszByG4P1Zs4dcfbkmFX_i7_PPF9HtJc96D8n7BISH6tnweztkFgWHsBwaa8nPTSu-f1RjVzrPuZ2GDfZoSL9QDJde7JrPauHUI37o6RvsL-uF79wsnU4as7ZFfNPAdt8j4h1V46-Gl1tnoAHy52MiHKg4tFFYx8l2uVxBxzJdyjxgW5mHi4WbdKU_WeBz_F5nTo1xHp5dLVzJxlaPhHdCHkgIUzduO7hPOw1CGViKfBA9XpIJ7_UFUuPDMwy430kuGKPPJxugIPFbR9gSY3VcKaWSFMgTayw7ov0xPxv-GRGgksvueFsudKO3XmAyf18pojl9_iU7UlNqM0dF9jEELtq-ZuDk4HTczUyLg7GN0W4aT6-Jq-C2yXTUdE-GLiDeX6vTIpkETxMtgUIA1SDpIWcnvOhQzjRMriMY1Foi2XG9-1Un2xf3JKZCoZt8svImIQNB5pa9V43SqMrfhAvPhdjGiBFKs8Qp_M7cFcSyZvacIawdmsOnGIoEx2hEPAwRPxnhwQ3XQiRH7Ws1ClUbP-Ce3UejRpFuT3RXVcFr4J5beKhd1wi-o6QSXHK4J0dybBb-dd-Ro2fp0ubWHxvA8NG2gN9h_s8poe0l4PcpHeAkLOEyHU6KEoIL9WdZITlProQGK7d2de06GiFV8aKCX4M0JbvdB2fPLhM93aNppxCJew4ROYCdDNI4WA7Q8rknSBI9j3BfX66GTC3wA2QfplwhZshX3VZcTyvY66SIF9KSynUqit0F8U_Vpd40GUfUH2Ba8Cm0UIEMvuA7y_PTK9IdW6jWfPl4L9sqdIu5s82OY1UeTJDWM3MGbrcVKicSGz-A21uXTgtaDtfEmQXirt3JBuhFmSoM-5XLsLPKaP3Nmlaab9j1-GYC8DIWjAMJw1K09vewo9stO1NcFNZmoN0qy67CF_8Mp1KD60tDChvbFIadREPaBp6i_vFWQ3TLnHOQ88AGIEWSybdyT8Ht3-k5P-FoL8JdmCQe1Gpa4rw6AIE5vD0RtT8aNCI3fz-JY1H2jXfqLLiVLb_Vla-4JqCLAkaEU0rIzM5Jt6NlU05SpiVmDId8sZkYxDsTXJWAGF2kY2jJLrFbP62HZ4ijKH7dsxWtGIpCWYsPOYGeW1lX7oyZK561b9JOq5DdWY4rjtOpOZmayGpY2YeocSgmM2u_J034yBcssgCLIFPh-Q3pLzwba0QTY7eEypw2PCIukST3TXs5r8AXVZQgpS5VvcQ2I656eYEwC2dKH-LZ4Gcz59HK8A_6ckXSDLUHpg14ck8wAfAo7aWc92BiEXEgKWv0v80QzWcmMCnxoTp_Bh7iMQed0dylNr5Tm0CLdJ7FqFmkWjtAzhmD4XSU7Elx_pzitkxZ1dU_bjKON0L2tQWOEENE0rydGrYUrygV1vpNslTswQ_2tQjcgNT6gsCR2j98pcT8efsZJOoY7eO16UlcQEUnLVsz4LIRiXJJ8SdQi3SbyDRwecc8jYgPSkFBf6O7el-k85lf3qO76AU0vjTwrVff1_qSxAYmCzXxTb9waNMB9NFXOniky5zVGtE2CK-H-KyvVGJj0e2A0WG0LKYHhSgxezM2gGKtGueDGuXZ0KZlhDHZ7Y4JQ5v6OWJiwYsgUg2a9d-0Fby7f7FlEWWLOJYQnQp3iNAuSCx29CDoIJeMYRWxz8gAufGdb3OckIrmjZTxjg-tDcOjPUmXIg6w1aZRKrsa9xPsA2RKNj0bLGXHArirN96XLI3MiuXFyuTA4vdDejZYske6StNn3oc7J8Y9_dNaqszrL56m4Dan3w3uBPKaWn9oqPHPC1PdujdoGmq6VZBFbwuO8LssfshOdvh__CkLu2879dFlCotoOm63JL2n_ybJFWXqCl4s1pFAjnrDywrqYGTY27I52rAe5RNV_BQPxrOnju5Om4j2mgtORfZ0opoGGLN6dwJcOXzQnn7hnj2b9VZIl8LqWLm76QD0BOq3KUD40eeT2yeiC-znHp6w2K6n60JpYc4uOu36n1oFhSVIfsN03b9OiSCuPmSY76eo5t3ISrjOaY02xpj7TF6dKz0yM6M24rZ7AhBMGcXO_dPdkxB8Rx0anno1Y2GAsWDuTehXohj9fDSCASj8Hr1HkhidhuLy0I3azwOtkyd9wif125C3VKgqr5yj0MRkvNcEXipsgoMY1euMOPSktGQYAqgheNY3Yic10l4WX0ZplSDR-mV9LAU-cPBrtmL8jN6vXJk4Fj6FpYAR-ybS2a4LisqOcGa93tMczLn5hj7XZ0LiDLsiT5x8AevInkzOy7nJocuKwcvxbMqwwY-eyMuyBQ63ODA8XiGM3KsnenHnnGfaziQs1dc75l3h3UfSUCoqsr0tZ8H_wYTz_MVwApL2SOtk1gGTTsIqJ3k3APZ7t5QQgd03yZwSQaCWv5d4R0tqkqYNDKjR67eMPg-CcXBRA_S9pPN1spa8y5NSEHjpvP-smrB2fZ8YrHofEr3IDmTKpbIzCv-El8LwZL7Z8YSgYBTTpMXVFWar_W8V46Pd2i7650znPgC_UqYpEaobNuUfEVy-oQPH1BRgfTMc0lek0JWOXdOC6yuY3Y6PSQGP1DysRTjNp74mKwwxnGzFSuMQ7qpjaTqWdUB3i1zLh1Lqh7CUelXYxp1_CTeQjdfsw4cmVYw7CuhPzsr05fYnBeGEEo_meOhmdAqUrUkHhBWcMmOqLeMHJgGQfjeIj1JTLWg9ec4BGSBxTK0IgUO4cUo90XYnKOAAQO0saUCa7PiJJOpHVEKngellGk8in9GoD1ZybX3hentG9_u56QimkXRo2kOXRrKediuQ2Mbpvy0kfhjTMWSkWGvUi-gae6EQq2_hs2HBJ0u9krcab_o1R8RPIpe84UfWevJ7gsyu9C93Q4cn6V4ZjSG0cjDTu7LrEgf8NzmFA9Z2CjqyF1di8XI4OdmPU4k1RAS0c-ZBK8Q4lqvJweFQk02Hz2KdASIRWkHkSQotGjSoxBfz5zM17NTiHywFAlEJeYE66hZwttavq85PED3szkbCXxSoOI77KiE7cdbjBPVUO8_Dw7wFlDYidEsJvxtV_y9MxrVMcdTNrhQh3qBriBRrHF4MRg7vt6BmiNV0ZTiYtcrnnD9Us3UJDvMt1mgnyRpOrRSfROIK1tWOtiCTRuO9tVqop3sTiBfgrtkg2kKbjTT5SQgtMVGIbzVrrzS2RY8iLhiyWrIqOB7_2sqgTzbXhyFGC00lGG8tx-HMUCpZ76Euz9Cu2gk2eIn2iDf2JVZ9LUCc9lZ4tHmu0dnYVGtykWBQVSo9yaiPv5ikflcaomDDoOhG8mMg2AYwULAPpKM6kdyVFNvIsWsVNtCVxnWqHlDo0CfEeUyaF1GcTpoOjNN1WOPn49IgmbpoMSHqFp8sjWmTtX836YRikNy_tZPdY4z4WPYn5f6uorHADHJCcAOwbTMbLxslfaSzSiStJswGlDgkxeJigCGW1xsRWc581x41MLE5sLTcXsEziwbRNlKDr7L7VGR3eDXrU5Vjso1XQIqR3HOCcbMPPXT0A25OGwgE4DZLVnNoayAu4D_dFF_z5d71I_nUUALrICpPOJyon6u2NyQUrhO7t4e4_YbKP58G_hKcBskNMZeyJhFgpgp-ZOQi5jEoxQWzj-r9xeTgB-d9T-9q9fRJOwdThPFasK0Lu5GLn2fZIvMy-7lSObsnXU-vdjRKF7xY-wgelisPKPbwEnHv67B5yZHD7VyOb5ejZHltCW3RIt1C0n5EyE8ynTf80Frpwssu4Bkn_rp_-_loh- -UZ_kxmS6_K8IA7oIpNzqiCfoX1JWPF-tldmrCyYhXYe15NTo5c15k-pjpUGkc2FKcAn0zFpd4tx3r_EY9jdrtG1CQrBxwy7tUsrBT_Q4Lp36k8c4evnSz5s3Z2Zu3QwqtIQRcNZojLq6JCrs0CL3p5Gu-KbaP-8AE4tRaLQRAnoaFZmqKjsjNfjbl4kmqLlKlkMDehymnKegAhk6ELn_Yq2Nll7i6RfckOMOPp5lO67UnLFEnLS8BKPp7aGaG425zQJftQpBivsdkYvrvWFHnVwQy8DScpK4mZZ1bACE4XCxWXZByhMM2ydjpKI1nL-YT3xREIsfsx8ZrBtjONcG-zhAyRpgh0bAn0l-SlLWy333464OFPgG84luHITz-vRTUp6RUQqnblHBBRFvB0bX4_3GChn4tNiO5vfuMi7RJQrtWnPR-7lkCDbJezBGaermpsuezvLJK15sn6w0FGgCgf-0eRMDxwUTgHHHLrqCNms3tDbczXGf81KqSpIUq3DX-WyzqRN9e4oLX_vwWgoty1]--></g></svg>